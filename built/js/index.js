!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e():"function"==typeof define&&define.amd?define(e):e()}(0,function(){"use strict";var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};function e(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return(n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function r(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function o(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function i(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})}var a=setTimeout;function s(){}function u(t){if(!(this instanceof u))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(t,this)}function c(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,u._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void l(e.promise,t)}h(e.promise,r)}else(1===t._state?h:l)(e.promise,t._value)})):t._deferreds.push(e)}function h(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof u)return t._state=3,t._value=e,void f(t);if("function"==typeof n)return void d((r=n,o=e,function(){r.apply(o,arguments)}),t)}t._state=1,t._value=e,f(t)}catch(e){l(t,e)}var r,o}function l(t,e){t._state=2,t._value=e,f(t)}function f(t){2===t._state&&0===t._deferreds.length&&u._immediateFn(function(){t._handled||u._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)c(t,t._deferreds[e]);t._deferreds=null}function p(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function d(t,e){var n=!1;try{t(function(t){n||(n=!0,h(e,t))},function(t){n||(n=!0,l(e,t))})}catch(t){if(n)return;n=!0,l(e,t)}}u.prototype.catch=function(t){return this.then(null,t)},u.prototype.then=function(t,e){var n=new this.constructor(s);return c(this,new p(t,e,n)),n},u.prototype.finally=i,u.all=function(t){return new u(function(e,n){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var o=r.length;function i(t,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){i(t,e)},n)}r[t]=a,0==--o&&e(r)}catch(t){n(t)}}for(var a=0;a<r.length;a++)i(a,r[a])})},u.resolve=function(t){return t&&"object"==typeof t&&t.constructor===u?t:new u(function(e){e(t)})},u.reject=function(t){return new u(function(e,n){n(t)})},u.race=function(t){return new u(function(e,n){for(var r=0,o=t.length;r<o;r++)t[r].then(e,n)})},u._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){a(t,0)},u._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var y=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();"Promise"in y?y.Promise.prototype.finally||(y.Promise.prototype.finally=i):y.Promise=u;"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var v,b,m=(function(t,e){!function(t){var e={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(e.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=ArrayBuffer.isView||function(t){return t&&n.indexOf(Object.prototype.toString.call(t))>-1};function o(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function i(t){return"string"!=typeof t&&(t=String(t)),t}function a(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e.iterable&&(n[Symbol.iterator]=function(){return n}),n}function s(t){this.map={},t instanceof s?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function u(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function c(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function h(t){var e=new FileReader,n=c(e);return e.readAsArrayBuffer(t),n}function l(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(t){var n;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:e.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:e.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():e.arrayBuffer&&e.blob&&(n=t)&&DataView.prototype.isPrototypeOf(n)?(this._bodyArrayBuffer=l(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):e.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||r(t))?this._bodyArrayBuffer=l(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e.blob&&(this.blob=function(){var t=u(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?u(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var t,e,n,r=u(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,n=c(e),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},e.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}s.prototype.append=function(t,e){t=o(t),e=i(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},s.prototype.delete=function(t){delete this.map[o(t)]},s.prototype.get=function(t){return t=o(t),this.has(t)?this.map[t]:null},s.prototype.has=function(t){return this.map.hasOwnProperty(o(t))},s.prototype.set=function(t,e){this.map[o(t)]=i(e)},s.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},s.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),a(t)},s.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),a(t)},s.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),a(t)},e.iterable&&(s.prototype[Symbol.iterator]=s.prototype.entries);var p=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function d(t,e){var n,r,o=(e=e||{}).body;if(t instanceof d){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new s(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,o||null==t._bodyInit||(o=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new s(e.headers)),this.method=(n=e.method||this.method||"GET",r=n.toUpperCase(),p.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function y(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(o))}}),e}function v(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new s(e.headers),this.url=e.url||"",this._initBody(t)}d.prototype.clone=function(){return new d(this,{body:this._bodyInit})},f.call(d.prototype),f.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new s(this.headers),url:this.url})},v.error=function(){var t=new v(null,{status:0,statusText:""});return t.type="error",t};var b=[301,302,303,307,308];v.redirect=function(t,e){if(-1===b.indexOf(e))throw new RangeError("Invalid status code");return new v(null,{status:e,headers:{location:t}})},t.DOMException=self.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function m(n,r){return new Promise(function(o,i){var a=new d(n,r);if(a.signal&&a.signal.aborted)return i(new t.DOMException("Aborted","AbortError"));var u=new XMLHttpRequest;function c(){u.abort()}u.onload=function(){var t,e,n={status:u.status,statusText:u.statusText,headers:(t=u.getAllResponseHeaders()||"",e=new s,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();e.append(r,o)}}),e)};n.url="responseURL"in u?u.responseURL:n.headers.get("X-Request-URL");var r="response"in u?u.response:u.responseText;o(new v(r,n))},u.onerror=function(){i(new TypeError("Network request failed"))},u.ontimeout=function(){i(new TypeError("Network request failed"))},u.onabort=function(){i(new t.DOMException("Aborted","AbortError"))},u.open(a.method,a.url,!0),"include"===a.credentials?u.withCredentials=!0:"omit"===a.credentials&&(u.withCredentials=!1),"responseType"in u&&e.blob&&(u.responseType="blob"),a.headers.forEach(function(t,e){u.setRequestHeader(e,t)}),a.signal&&(a.signal.addEventListener("abort",c),u.onreadystatechange=function(){4===u.readyState&&a.signal.removeEventListener("abort",c)}),u.send(void 0===a._bodyInit?null:a._bodyInit)})}m.polyfill=!0,self.fetch||(self.fetch=m,self.Headers=s,self.Request=d,self.Response=v),t.Headers=s,t.Request=d,t.Response=v,t.fetch=m,Object.defineProperty(t,"__esModule",{value:!0})}(e)}(v={exports:{}},v.exports),v.exports);function w(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=[];for(n.reverse();n.length;){var i=n.pop();if(i&&i.pop)for(var a=i.length-1;a>=0;a--)n.push(i[a]);else null!=i&&!0!==i&&!1!==i&&o.push(i)}return"function"==typeof t?t(e||{},o):{attributes:e||{},children:o,key:e&&e.key,nodeName:t}}(b=m)&&b.__esModule&&Object.prototype.hasOwnProperty.call(b,"default")&&b.default;var g=function(t,e){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var T=function(){function t(t,e){this.orig=t,this.History=e,this.init({scheduleRender:function(){return null}})}return Object.defineProperty(t.prototype,"State",{get:function(){return this.state},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Remember",{get:function(){return this.remember},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Renderer",{get:function(){return this.renderer},enumerable:!0,configurable:!0}),t.prototype.set=function(t,e){var n,r=this;if(void 0===e&&(e=!1),(n=(n=Array.isArray(t)?Array.from(t.keys()):Object.getOwnPropertyNames(t)).filter(function(e){return!(e in r.orig)||r.orig[e]!==t[e]})).length>0){var o=this;if(e&&this.History){for(var i={},a=[],s=0,u=n;s<u.length;s++){(l=u[s])in this.orig?i[l]=this.orig[l]:a.push(l)}this.History.add({Redo:function(){for(var e=0,r=n;e<r.length;e++){var i=r[e];o.orig[i]=t[i]}o.renderer.scheduleRender()},Undo:function(){for(var t in i)o.orig[t]=i[t];for(var e=0,n=a;e<n.length;e++){t=n[e];delete o.orig[t]}o.renderer.scheduleRender()}})}else{for(var c=0,h=n;c<h.length;c++){var l=h[c];this.orig[l]=t[l]}this.renderer.scheduleRender()}}},t.prototype.init=function(t){this.renderer=t;var e,n,r=this;this.state=(e=this.orig,n=function(){return r.renderer.scheduleRender()},new Proxy(e,{set:function(t,e,r){return e in t&&t[e]===r||(t[e]=r,n(),!0)},deleteProperty:function(t,e){return e in t&&(delete t[e],n()),!0}})),this.remember=function(t,e,n){return n?new Proxy(t,{set:function(r,o,i){var a=o in t,s=null;return!(!a||(s=t[o])!==i)||(n.add({Redo:function(){t[o]=i,e()},Undo:function(){a?t[o]=s:delete t[o],e()}}),!0)},deleteProperty:function(t,r){if(!(r in t))return!0;var o=t[r];return n.add({Redo:function(){delete t[r],e()},Undo:function(){t[r]=o,e()}}),!0}}):null}(this.orig,function(){return r.renderer.scheduleRender()},this.History)},t}();!function(t){function e(e,n){var r=t.call(this,e,n.History)||this;return n.Renderer&&r.init({scheduleRender:function(){return n.Renderer.scheduleRender()}}),r}(function(t,e){function n(){this.constructor=t}g(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(e,t)}(T);function O(t){return!!t.nodeName}function E(t,e){var n={};for(var r in t)n[r]=t[r];for(var r in e)n[r]=e[r];return n}function x(t){return"function"==typeof t?x(t()):null!=t?t:""}function P(t){return t&&O(t)?t.key:null}function R(t){return t.currentTarget.events[t.type](t)}var A={draggable:1,list:1,spellcheck:1,translate:1,type:1};function C(t,e,n,r,o){"key"!==e&&("style"===e?function(t,e,n){if("string"==typeof e)t.style.cssText=e;else for(var r in"string"==typeof n&&(n=t.style.cssText=""),E(n,e)){var o=null==e||null==e[r]?"":e[r];"-"===r[0]?t.style.setProperty(r,o):t.style[r]=o}}(t,n,r):("o"===e[0]&&"n"===e[1]?function(t,e,n,r){e=e.slice(2),t.events?r||(r=t.events[e]):t.events={},t.events[e]=n,n?r||t.addEventListener(e,R):t.removeEventListener(e,R)}(t,e,n,r):!(e in t)||e in A||o?null!=n&&!1!==n&&t.setAttribute(e,n):t[e]=null==n?"":n,null!=n&&!1!==n||t.removeAttribute(e)))}function j(t,e,n){function r(){t.removeChild(function t(e,n){if(O(n)){for(var r=n.attributes,o=0;o<n.children.length;o++)t(e.childNodes[o],n.children[o]);r.ondestroy&&r.ondestroy(e)}return e}(e,n))}var o=O(n)&&n.attributes&&n.attributes.onremove;o?o(e,r):r()}var D=function(){function t(t,e,n){this.skipRender=!1,this.isRecycling=!0,this.lifecycle=[],this.container=t,this.view=e,this.rootElement=t&&t.children[0]||null,this.oldNode=this.rootElement&&function t(e){return{attributes:{},children:[].map.call(e.childNodes,function(e){return 3===e.nodeType?e.nodeValue:t(e)}),nodeName:e.nodeName.toLowerCase()}}(this.rootElement),this.action=n}return t.prototype.render=function(){var t=this;this.skipRender=!this.skipRender;var e=x(function(){return t.action&&t.action.init(t),t.view()});for(this.container&&!this.skipRender&&(this.rootElement=this.patch(this.container,this.rootElement,this.oldNode,this.oldNode=e)),this.isRecycling=!1;this.lifecycle.length;)this.lifecycle.pop()();return e},t.prototype.scheduleRender=function(){this.skipRender||(this.skipRender=!0,setTimeout(this.render.bind(this)))},t.prototype.createElement=function(t,e){var n=null;if("string"==typeof t||"number"==typeof t?n=document.createTextNode(""+t):(e=e||"svg"===t.nodeName,n=e?document.createElementNS("http://www.w3.org/2000/svg",t.nodeName):document.createElement(t.nodeName)),O(t)){var r=t.attributes;if(r){r.oncreate&&this.lifecycle.push(function(){return r.oncreate(n)});for(var o=0;o<t.children.length;o++)n.appendChild(this.createElement(t.children[o]=x(t.children[o]),e));for(var i in r)C(n,i,r[i],null,e)}}return n},t.prototype.updateElement=function(t,e,n,r){for(var o in E(e,n)){n[o]!==("value"===o||"checked"===o?t[o]:e[o])&&C(t,o,n[o],e[o],r)}var i=this.isRecycling?n.oncreate:n.onupdate;i&&this.lifecycle.push(function(){return i(t,e)})},t.prototype.patchNewNode=function(t,e,n,r,o){var i=this.createElement(r,o);return t.insertBefore(i,e),null!=n&&j(t,e,n),i},t.prototype.patchChildren=function(t,e,n,r){void 0===r&&(r=!1),r=r||"svg"===n.nodeName,this.updateElement(t,e.attributes,n.attributes,r);for(var o={},i={},a=[],s=e.children,u=n.children,c=0;c<s.length;c++){a[c]=t.childNodes[c],null!=(f=P(s[c]))&&(o[f]=[a[c],s[c]])}for(var h=0,l=0;l<u.length;){var f=P(s[h]),p=P(u[l]=x(u[l]));if(i[f])h++;else if(null==p||p!==P(s[h+1]))if(null==p||this.isRecycling)null==f&&(this.patch(t,a[h],s[h],u[l],r),l++),h++;else{var d=o[p]||[];if(f===p)this.patch(t,d[0],d[1],u[l],r),h++;else if(d[0]){var y=t.insertBefore(d[0],a[h]);this.patch(t,y,d[1],u[l],r)}else this.patch(t,a[h],null,u[l],r);i[p]=u[l],l++}else null==f&&j(t,a[h],s[h]),h++}for(;h<s.length;)null==P(s[h])&&j(t,a[h],s[h]),h++;for(var c in o)i[c]||j(t,o[c][0],o[c][1]);return t},t.prototype.patch=function(t,e,n,r,o){if(void 0===o&&(o=!1),r===n)return e;if(null==n||n.nodeName!==r.nodeName)e=this.patchNewNode(t,e,n,r,o);else if(O(n)&&null!=n.nodeName||O(r)){if(!O(r)||!O(n))throw new Error("Mom, what this 'patch' wants???");e=this.patchChildren(e,n,r,o)}else e.nodeValue=""+r;return e},t}();function B(t,e,n){var r=new D(t,e,n);return r.scheduleRender(),r}var _=function(){return(_=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},I=function(t){return t.pathname+t.search+t.hash},M=function(t){return t?"string"==typeof t?[t,null]:[""+(t.pathname?(e=t.pathname,e.replace(/(.*)\/$/,"$1")):"")+(t.search?"?"===t.search[0]?t.search:"?"+t.search:"")+(t.hash?"#"===t.hash[0]?t.hash:"#"+t.hash:""),t.state]:["#",null];var e},F=null,U=function(){function t(t,e){this.rOwner=t,this.loc=I(window.location),F||(F=e),this.subscribe()}return t.prototype.go=function(t){var e=M(t),n=e[0],r=e[1];null!==n&&n!==I(window.location)&&history.pushState(r,"",n)},t.prototype.stop=function(){},t.prototype.wrapHistory=function(t){this.unwrapHistory=t.reduce(function(t,e){var n=history[e];return history[e]=function(t,e,r){n.bind(history)(t,e,r),dispatchEvent(new CustomEvent("pushstate",{detail:t}))},function(){history[e]=n,t&&t()}},null)},t.prototype.unwrapHistory=function(){},t.prototype.subscribe=function(){var t=this,e=function(e){var n="state"in e?e.state:e.detail,r=I(window.location);t.loc!==r&&(t.rOwner.onLocationChange?t.rOwner.onLocationChange(n):t.rOwner.Renderer.scheduleRender(),t.loc=r)};this.wrapHistory(["pushState","replaceState"]),addEventListener("pushstate",e),addEventListener("popstate",e),this.stop=function(){removeEventListener("pushstate",e),removeEventListener("popstate",e),t.unwrapHistory()}},t}(),L=function(t){return t.protocol+"//"+t.hostname+(t.port?":"+t.port:"")},H=function(t,e){return F("a",_({},t,{href:M(t.to)[0],onclick:function(e){var n;window.location;if((t.onclick&&t.onclick(e),!(e.defaultPrevented||0!==e.button||e.altKey||e.metaKey||e.ctrlKey||e.shiftKey||(n=e.currentTarget,n&&L(window.location)!==L(n))))&&t.to){e.preventDefault();var r=M(t.to),o=r[0],i=r[1];null!==o&&o!==I(window.location)&&history.pushState(i,"",o)}},to:void 0}),e)},S=function(t){return t+"_ref.json"},q=function(t){return"#apiref-"+t},V=function(t,e){return q(t)+"-"+e},G=["Classes","Functions","Constants","Variables","Types","Interfaces"];function X(t){return r(this,void 0,void 0,function(){var e;return o(this,function(n){return e=S(t),[2,new Promise(function(t){return fetch("built/data/"+e).then(function(e){return t(e.json())})})]})})}var z=function(){function t(t){var e=this;this.mainCtrl=t,this.ready={},this.fresh=!0,this.Router=new U(this,w),this.TreeCtrl=new Z,this.TOCCtrl=new $(function(){return e.TreeCtrl.Renderer.scheduleRender()})}return Object.defineProperty(t.prototype,"Fresh",{get:function(){return this.fresh},enumerable:!0,configurable:!0}),t.prototype.onLocationChange=function(t){return r(this,void 0,void 0,function(){var t,e,n,r,i,a,s,u;return o(this,function(o){switch(o.label){case 0:if(this.fresh=!1,t=window.location,e=/\#apiref\-([a-zA-Z_][a-zA-Z0-9_]*)(\-.*)?/,!(n=t.hash.match(e)))return[2];if((r=n[1])in this.ready)return this.setModule(r),[2];i=null,o.label=1;case 1:return o.trys.push([1,,3,4]),this.mainCtrl.loading(!0),[4,X(r)];case 2:return i=o.sent(),[3,4];case 3:return this.mainCtrl.loading(!1),[7];case 4:return i?(a=function(t){if(!t.children)return null;for(var e={Classes:[],Constants:[],Functions:[],Interfaces:[],Types:[],Variables:[]},n=0,r=t.children;n<r.length;n++){var o=r[n];switch(o.kind){case"VariableStatement":o.keyword&&"const"===o.keyword?e.Constants.push(o.name):e.Variables.push(o.name);break;case"InterfaceDeclaration":e.Interfaces.push(o.name);break;case"TypeAliasDeclaration":e.Types.push(o.name);break;case"ClassDeclaration":e.Classes.push(o.name);break;case"FunctionDeclaration":e.Functions.push(o.name);break;default:throw new Error("Mom, what is it "+o.kind+"?")}}for(var i in e)e[i]=e[i].sort();for(var a={},s=1,u=0,c=G;u<c.length;u++)for(var h=0,l=e[c[u]];h<l.length;h++)a[l[h]]=s,s++;return[e,a]}(i),s=a[0],u=a[1],this.ready[r]={tab:u,toc:s,tree:i},this.setModule(r),[2]):[2]}})})},t.prototype.setModule=function(t){this.TOCCtrl.setTOC(t,this.ready[t].toc),this.TreeCtrl.setTree(t,this.ready[t].tree,this.ready[t].tab)},t}();function W(t){switch(t.kind){case"VariableStatement":return t.keyword&&"const"===t.keyword?"Constant":"Variable";case"InterfaceDeclaration":return"Interface";case"TypeAliasDeclaration":return"Type";case"ClassDeclaration":return"Class";case"Constructor":return"Constructor";case"FunctionDeclaration":return"Function";case"MethodSignature":case"MethodDeclaration":return"Method";case"PropertySignature":case"PropertyDeclaration":return"Property";default:throw new Error("Mom, what is it "+t.kind+"?")}}function Y(t,e,n,r,o){void 0===r&&(r=[]),void 0===o&&(o=null);for(var i=0,a=t.children;i<a.length;i++){var s=a[i],u=W(s),c="Constructor"===u?"":s.name;o&&"Constructor"!==u&&(c=o+"."+c);var h={comment:s.commentText,decl:s.decl,hash:o?void 0:"#apiref-"+e+"-"+c,kind:u,links:n,name:c};s.children&&s.children.length&&(h.subSections=[],Y(s,e,n,h.subSections,c)),r.push(h)}return r}var Z=function(t){function n(e){void 0===e&&(e={});var n=t.call(this,{modName:"",sections:[],tree:{}})||this;return n.links=e,n}return e(n,t),n.prototype.setTree=function(t,e,n){return r(this,void 0,void 0,function(){return o(this,function(r){return e.children=e.children.sort(function(t,e){return n[t.name]-n[e.name]}),this.set({modName:t,sections:Y(e,t,this.links),tree:e}),[2]})})},n}(T);function J(t,e,n){for(var r=[],o=0,i=G;o<i.length;o++){var a=i[o],s=e[a];if(!(s.length<1)){var u={items:s.map(function(e){return{active:!1,hash:V(t,e),refreshContent:n,title:e}}),section:{title:a}};r.push(u)}}return r}var $=function(t){function n(e){var n=t.call(this,{sections:[],toc:{}})||this;return n.refreshContent=e,n}return e(n,t),n.prototype.setTOC=function(t,e){return r(this,void 0,void 0,function(){return o(this,function(n){return this.set({toc:e,sections:J(t,e,this.refreshContent)}),[2]})})},n}(T),Q=function(t){function n(){return t.call(this,{loading:0})||this}return e(n,t),n.prototype.loading=function(t){this.State.loading+=t?1:-1},n}(T);function N(t){for(var e=[],n=0,r=t;n<r.length;n++){var o=r[n];e.push({title:o,hash:q(o)})}return e}var K=function(t){function n(e){var n=t.call(this,{apiModNames:e,apirefData:N(e)})||this;return n.Router=new U(n,w),n}return e(n,t),n}(T),k=function(t){try{return decodeURIComponent(t)}catch(e){return t}};var tt=function(t){return function(){var e=window.location,n=function(t,e,n){if(t===e||!t)return{isExact:t===e,hashPattern:t,hashMatch:e};var r=t.slice(1).split("-"),o=e.slice(1).split("-");if(n&&r.length!==o.length)return null;for(var i={hashMatch:"#",hashPattern:t,isExact:!1,params:{}},a=r.length,s=o.length,u=0;u<a&&u<s;u++){var c=[r[u],o[u]],h=c[0],l=c[1];if(":"===h[0])h=h.slice(1),i.params[h]=l=k(l);else if(h!==l)return null;i.hashMatch+=l+"-"}return i.hashMatch=i.hashMatch.slice(0,-1),i}(t.hash,e.hash,t.exact);if(!n)return null;var r=t.component({match:n},[]);if("function"==typeof r){r();return r()}return r}},et="complete",nt="canceled";function rt(t,e,n){t.self===t?t.scrollTo(e,n):(t.scrollLeft=e,t.scrollTop=n)}function ot(t){var e=t._scrollSettings;if(e){var n=function(t,e,n){var r,o,i,a,s,u,c,h=t.getBoundingClientRect(),l=n&&null!=n.left?n.left:.5,f=n&&null!=n.top?n.top:.5,p=n&&null!=n.leftOffset?n.leftOffset:0,d=n&&null!=n.topOffset?n.topOffset:0,y=l,v=f;if(e.self===e)u=Math.min(h.width,e.innerWidth),c=Math.min(h.height,e.innerHeight),o=h.left+e.pageXOffset-e.innerWidth*y+u*y,i=h.top+e.pageYOffset-e.innerHeight*v+c*v,i-=d,a=(o-=p)-e.pageXOffset,s=i-e.pageYOffset;else{u=h.width,c=h.height,r=e.getBoundingClientRect();var b=h.left-(r.left-e.scrollLeft),m=h.top-(r.top-e.scrollTop);o=b+u*y-e.clientWidth*y,i=m+c*v-e.clientHeight*v,o=Math.max(Math.min(o,e.scrollWidth-e.clientWidth),0),i=Math.max(Math.min(i,e.scrollHeight-e.clientHeight),0),i-=d,a=(o-=p)-e.scrollLeft,s=i-e.scrollTop}return{x:o,y:i,differenceX:a,differenceY:s}}(e.target,t,e.align),r=Date.now()-e.startTime,o=Math.min(1/e.time*r,1);if(r>e.time&&e.endIterations>3)return rt(t,n.x,n.y),t._scrollSettings=null,e.end(et);e.endIterations++;var i=1-e.ease(o);if(rt(t,n.x-n.differenceX*i,n.y-n.differenceY*i),r>=e.time)return ot(t);!function(t){if("requestAnimationFrame"in window)return window.requestAnimationFrame(t);setTimeout(t,16)}(ot.bind(null,t))}}function it(t,e,n,r){var o,i=!e._scrollSettings,a=e._scrollSettings,s=Date.now();function u(t){e._scrollSettings=null,e.parentElement&&e.parentElement._scrollSettings&&e.parentElement._scrollSettings.end(t),r(t),e.removeEventListener("touchstart",o,{passive:!0})}a&&a.end(nt),e._scrollSettings={startTime:a?a.startTime:Date.now(),endIterations:0,target:t,time:n.time+(a?s-a.startTime:0),ease:n.ease,align:n.align,end:u},o=u.bind(null,nt),e.addEventListener("touchstart",o,{passive:!0}),i&&ot(e)}function at(t){return"pageXOffset"in t||(t.scrollHeight!==t.clientHeight||t.scrollWidth!==t.clientWidth)&&"hidden"!==getComputedStyle(t).overflow}function st(){return!0}var ut=function(t,e,n){if(t){"function"==typeof e&&(n=e,e=null),e||(e={}),e.time=isNaN(e.time)?1e3:e.time,e.ease=e.ease||function(t){return 1-Math.pow(1-t,t/2)};for(var r=t.parentElement,o=0,i=e.validTarget||st,a=e.isScrollable;r;){if(i(r,o)&&(a?a(r,at):at(r))&&(o++,it(t,r,e,s)),!(r=r.parentElement))return;"BODY"===r.tagName&&(r=(r=r.ownerDocument).defaultView||r.ownerWindow)}}function s(t){--o||n&&n(t)}},ct=function(t){return t.active?w("li",{class:"uk-active"},w(H,{to:"./"+t.hash,onclick:t.refreshContent},t.title)):w("li",null,w(H,{to:"./"+t.hash},t.title))},ht=function(t){return w("div",{key:"Sidebar",class:"ho-sidebar-left uk-visible@m"},w("h4",{class:"ho-h4",key:"SidebarTitle"},t.title),w("ul",{class:"uk-nav uk-nav-default",key:"SidebarUl"},t.sections.map(function(e){return function(t,e){var r;return[(r=t.section,w("li",{class:"uk-nav-header"},r.title))].concat(t.items.map(function(t){return w(ct,n({},n({},t,{active:t.hash===e})))}))}(e,t.activeHash)})))},lt=function(t){return function(e){return w(ht,{title:"module"in e.match.params?e.match.params.module+" API":null,sections:"module"in e.match.params?t:null,activeHash:e.match.hashMatch})}},ft=function(t){return function(e){t.hash===window.location.hash&&ut(e,{align:{top:0,topOffset:90}})}},pt=function(t){return function(e){e.innerHTML=marked(t.comment,{sanitize:!0})}},dt=function(t){return function(e){e.innerHTML=Prism.highlight(t,Prism.languages.tsx,"tsx")}},yt=function(t){return w("pre",{style:"margin-left: 20px"},w("code",{oncreate:dt(t.decl),onupdate:dt(t.decl)}))},vt=function(t){return w("p",{oncreate:pt(t),onupdate:pt(t),style:"margin-left: 20px"})},bt=function(t){return w("div",{onupdate:ft(t),class:"ho-content-section"},w("h4",{class:t.hash===window.location.hash?"ho-major-content-active-header":"ho-major-content-header"},t.kind+" ",w("a",{href:t.hash},w("span",{class:"ho-header-identifier"},t.name))),w(yt,{decl:t.decl}),w(vt,{comment:t.comment}),t.subSections&&t.subSections.length?[w("h5",{class:"ho-minor-content-header"},"Class"===t.kind?"Members":"Interface"===t.kind?"Properties":"")].concat(t.subSections.map(function(t){return w(mt,n({},t))})):"")},mt=function(t){return w("div",{class:"ho-content-section"},w(yt,{decl:t.decl}),w(vt,{comment:t.comment}))},wt=function(t){return w("div",{onupdate:function(t){window.location.hash.split("-").length<3&&ut(t,{align:{topOffset:200}})}},w("h3",{class:"ho-h4",style:"margin-bottom: 60px"},t.module," API ",t.version?w("span",{class:"uk-text-small",style:"position: relative; top: 5px; color: #999"},"version "+t.version,", ",w("a",{href:"https://www.typescriptlang.org/"},"TypeScript")):""),t.sections.map(function(t){return w(bt,n({},t))}))},gt=function(t,e){return w("li",{class:t.visible?"uk-visible@"+t.visible:""},w("a",{href:"#"},t.title),w("div",{class:"uk-navbar-dropdown"},w("ul",{class:"uk-nav uk-navbar-dropdown-nav"},e)))},Tt=function(t,e){return w("li",{class:t.visible?"uk-visible@"+t.visible+" ":""+t.hidden?"uk-hidden@"+t.hidden:""},w("a",{href:"#",class:"uk-icon-link","uk-icon":t.title}),w("div",{class:"uk-navbar-dropdown"},w("ul",{class:"uk-nav uk-navbar-dropdown-nav"},e)))},Ot=function(t){return w("li",{class:t.visible?"uk-visible@"+t.visible:""},w(H,{to:t.hash},t.title))},Et=function(t){return w("li",{class:t.visible?"uk-visible@"+t.visible:""},w("div",{class:"uk-navbar-item"},w("form",{class:"uk-search uk-search-navbar"},w("span",{"uk-search-icon":!0,class:"ho-scaled-search-icon"}),w("input",{class:"uk-search-input",type:"search",onkeyup:function(e){return 13===e.keyCode?t.onSearch():""},oninput:function(e){return t.onSearchInput(e.target.value)},value:t.searchValue}))))},xt=function(t){return w("ul",{class:"uk-navbar-nav"},t.searchArgs?w(Et,{onSearchInput:t.searchArgs.onSearchInput,onSearch:t.searchArgs.onSearch,searchValue:t.searchArgs.searchValue,visible:"m"}):"",t.hasTutorial?w(Ot,{title:"Tutorial",hash:"#tutorial",visible:"m"}):"",t.reference.length?w(gt,{title:"API Reference",visible:"m"},t.reference.map(function(t){var e=t.title,n=t.hash;return w(Ot,{title:e,hash:n})})):"",t.examples.length?w(gt,{title:"Examples",visible:"m"},t.examples.map(function(t){var e=t.title,n=t.hash;return w(Ot,{title:e,hash:n})})):"",t.hasDonationsPage?w(Ot,{title:"Donate",hash:"#donate",visible:"m"}):"",w("li",{class:"uk-visible@m"},w("a",{href:"https://github.com/algebraic-brain/hyperoop/",class:"uk-icon-link","uk-icon":"github"})),w("li",{class:"uk-visible@m"},w("a",{href:"https://gitter.im/hyper-oop",class:"uk-icon-link","uk-icon":"gitter"})),w(Tt,{title:"table",hidden:"m"},w("li",{class:"uk-nav-header"},"API"),t.reference.map(function(t){var e=t.title,n=t.hash;return w(Ot,{title:e,hash:n})}),w("li",{class:"uk-nav-header"},"Community"),w("li",null,w("a",{href:"https://github.com/algebraic-brain/hyperoop/"},w("span",{"uk-icon":"icon: github; ratio: 0.8"}," ")," GitHub")),w("li",null,w("a",{href:"https://gitter.im/hyper-oop"},w("span",{"uk-icon":"icon: gitter; ratio: 0.8"}," ")," Gitter"))))};!function(){r(this,void 0,void 0,function(){var t,e,n,r,i,a;return o(this,function(o){switch(o.label){case 0:return t=new Q,e=new z(t),n=new K(["HyperOOP","Router","RedoUndo"]),e.Router.go("./#apiref-HyperOOP"),e.Fresh?[4,e.onLocationChange(null)]:[3,2];case 1:o.sent(),o.label=2;case 2:return r=function(){return w(xt,{hasTutorial:!1,hasDonationsPage:!1,examples:[],reference:n.State.apirefData,searchArgs:null})},i=function(){return w(tt,{exact:!1,hash:"#apiref-:module-:identifier",component:lt(e.TOCCtrl.State.sections)})},a=function(){return w(wt,{version:e.TreeCtrl.State.tree.version,module:e.TreeCtrl.State.modName,sections:e.TreeCtrl.State.sections})},B(document.getElementById("navbarPlace"),r,n),B(document.getElementById("sidebarPlace"),i,e.TOCCtrl),B(document.getElementById("contentPlace"),a,e.TreeCtrl),[2]}})})}()});
//# sourceMappingURL=index.js.map
