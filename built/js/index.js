!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e():"function"==typeof define&&define.amd?define(e):e()}(0,function(){"use strict";var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};function e(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return(n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function r(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})}function i(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function o(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})}var s=setTimeout;function a(){}function u(t){if(!(this instanceof u))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(t,this)}function c(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,u._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void h(e.promise,t)}l(e.promise,r)}else(1===t._state?l:h)(e.promise,t._value)})):t._deferreds.push(e)}function l(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof u)return t._state=3,t._value=e,void f(t);if("function"==typeof n)return void p((r=n,i=e,function(){r.apply(i,arguments)}),t)}t._state=1,t._value=e,f(t)}catch(e){h(t,e)}var r,i}function h(t,e){t._state=2,t._value=e,f(t)}function f(t){2===t._state&&0===t._deferreds.length&&u._immediateFn(function(){t._handled||u._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)c(t,t._deferreds[e]);t._deferreds=null}function d(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function p(t,e){var n=!1;try{t(function(t){n||(n=!0,l(e,t))},function(t){n||(n=!0,h(e,t))})}catch(t){if(n)return;n=!0,h(e,t)}}u.prototype.catch=function(t){return this.then(null,t)},u.prototype.then=function(t,e){var n=new this.constructor(a);return c(this,new d(t,e,n)),n},u.prototype.finally=o,u.all=function(t){return new u(function(e,n){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var i=r.length;function o(t,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,function(e){o(t,e)},n)}r[t]=s,0==--i&&e(r)}catch(t){n(t)}}for(var s=0;s<r.length;s++)o(s,r[s])})},u.resolve=function(t){return t&&"object"==typeof t&&t.constructor===u?t:new u(function(e){e(t)})},u.reject=function(t){return new u(function(e,n){n(t)})},u.race=function(t){return new u(function(e,n){for(var r=0,i=t.length;r<i;r++)t[r].then(e,n)})},u._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){s(t,0)},u._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var y=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();"Promise"in y?y.Promise.prototype.finally||(y.Promise.prototype.finally=o):y.Promise=u;"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var v,m,b=(function(t,e){!function(t){var e={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(e.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=ArrayBuffer.isView||function(t){return t&&n.indexOf(Object.prototype.toString.call(t))>-1};function i(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function o(t){return"string"!=typeof t&&(t=String(t)),t}function s(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e.iterable&&(n[Symbol.iterator]=function(){return n}),n}function a(t){this.map={},t instanceof a?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function u(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function c(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function l(t){var e=new FileReader,n=c(e);return e.readAsArrayBuffer(t),n}function h(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(t){var n;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:e.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:e.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():e.arrayBuffer&&e.blob&&(n=t)&&DataView.prototype.isPrototypeOf(n)?(this._bodyArrayBuffer=h(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):e.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||r(t))?this._bodyArrayBuffer=h(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e.blob&&(this.blob=function(){var t=u(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?u(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(l)}),this.text=function(){var t,e,n,r=u(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,n=c(e),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},e.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}a.prototype.append=function(t,e){t=i(t),e=o(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},a.prototype.delete=function(t){delete this.map[i(t)]},a.prototype.get=function(t){return t=i(t),this.has(t)?this.map[t]:null},a.prototype.has=function(t){return this.map.hasOwnProperty(i(t))},a.prototype.set=function(t,e){this.map[i(t)]=o(e)},a.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},a.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),s(t)},a.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),s(t)},a.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),s(t)},e.iterable&&(a.prototype[Symbol.iterator]=a.prototype.entries);var d=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function p(t,e){var n,r,i=(e=e||{}).body;if(t instanceof p){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new a(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new a(e.headers)),this.method=(n=e.method||this.method||"GET",r=n.toUpperCase(),d.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function y(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function v(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new a(e.headers),this.url=e.url||"",this._initBody(t)}p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},f.call(p.prototype),f.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new a(this.headers),url:this.url})},v.error=function(){var t=new v(null,{status:0,statusText:""});return t.type="error",t};var m=[301,302,303,307,308];v.redirect=function(t,e){if(-1===m.indexOf(e))throw new RangeError("Invalid status code");return new v(null,{status:e,headers:{location:t}})},t.DOMException=self.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function b(n,r){return new Promise(function(i,o){var s=new p(n,r);if(s.signal&&s.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var u=new XMLHttpRequest;function c(){u.abort()}u.onload=function(){var t,e,n={status:u.status,statusText:u.statusText,headers:(t=u.getAllResponseHeaders()||"",e=new a,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}}),e)};n.url="responseURL"in u?u.responseURL:n.headers.get("X-Request-URL");var r="response"in u?u.response:u.responseText;i(new v(r,n))},u.onerror=function(){o(new TypeError("Network request failed"))},u.ontimeout=function(){o(new TypeError("Network request failed"))},u.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},u.open(s.method,s.url,!0),"include"===s.credentials?u.withCredentials=!0:"omit"===s.credentials&&(u.withCredentials=!1),"responseType"in u&&e.blob&&(u.responseType="blob"),s.headers.forEach(function(t,e){u.setRequestHeader(e,t)}),s.signal&&(s.signal.addEventListener("abort",c),u.onreadystatechange=function(){4===u.readyState&&s.signal.removeEventListener("abort",c)}),u.send(void 0===s._bodyInit?null:s._bodyInit)})}b.polyfill=!0,self.fetch||(self.fetch=b,self.Headers=a,self.Request=p,self.Response=v),t.Headers=a,t.Request=p,t.Response=v,t.fetch=b,Object.defineProperty(t,"__esModule",{value:!0})}(e)}(v={exports:{}},v.exports),v.exports);function g(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=[];for(n.reverse();n.length;){var o=n.pop();if(o&&o.pop)for(var s=o.length-1;s>=0;s--)n.push(o[s]);else null!=o&&!0!==o&&!1!==o&&i.push(o)}return"function"==typeof t?t(e||{},i):{attributes:e||{},children:i,key:e&&e.key,nodeName:t}}(m=b)&&m.__esModule&&Object.prototype.hasOwnProperty.call(m,"default")&&m.default;var w=function(t,e){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var _=function(){function t(t){this.depth_=t,this.list_=[],this.offset_=0}return Object.defineProperty(t.prototype,"UndoLength",{get:function(){return this.list_.length-this.offset_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"RedoLength",{get:function(){return this.offset_},enumerable:!0,configurable:!0}),t.prototype.add=function(t){var e=this.list_.slice(0,this.list_.length-this.offset_);e.length===this.depth_&&(e=e.splice(0,1)),e.length!==this.depth_&&(e.push(t),this.offset_=0,this.list_=e,t.Redo())},t.prototype.undo=function(){if(this.list_.length){var t=this.list_.length-1;this.offset_<=t&&(this.list_[t-this.offset_].Undo(),this.offset_++)}},t.prototype.redo=function(){if(this.list_.length){var t=this.list_.length-1;this.offset_>0&&(this.offset_--,this.list_[t-this.offset_].Redo())}},t.prototype.clean=function(){this.list_=[],this.offset_=0},t}(),k=function(){function t(t,e){this.orig=t,this.History="number"==typeof e?new _(e):e,this.init({scheduleRender:function(){return null}})}return Object.defineProperty(t.prototype,"State",{get:function(){return this.state},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Remember",{get:function(){return this.remember},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Renderer",{get:function(){return this.renderer},enumerable:!0,configurable:!0}),t.prototype.set=function(t,e){var n,r=this;if(void 0===e&&(e=!1),(n=(n=Array.isArray(t)?Array.from(t.keys()):Object.getOwnPropertyNames(t)).filter(function(e){return!(e in r.orig)||r.orig[e]!==t[e]})).length>0){var i=this;if(e&&this.History){for(var o={},s=[],a=0,u=n;a<u.length;a++){(h=u[a])in this.orig?o[h]=this.orig[h]:s.push(h)}this.History.add({Redo:function(){for(var e=0,r=n;e<r.length;e++){var o=r[e];i.orig[o]=t[o]}i.renderer.scheduleRender()},Undo:function(){for(var t in o)i.orig[t]=o[t];for(var e=0,n=s;e<n.length;e++){t=n[e];delete i.orig[t]}i.renderer.scheduleRender()}})}else{for(var c=0,l=n;c<l.length;c++){var h=l[c];this.orig[h]=t[h]}this.renderer.scheduleRender()}}},t.prototype.init=function(t){this.renderer=t;var e,n,r=this;this.state=(e=this.orig,n=function(){return r.renderer.scheduleRender()},new Proxy(e,{set:function(t,e,r){return e in t&&t[e]===r||(t[e]=r,n(),!0)},deleteProperty:function(t,e){return e in t&&(delete t[e],n()),!0}})),this.remember=function(t,e,n){return n?new Proxy(t,{set:function(r,i,o){var s=i in t,a=null;return!(!s||(a=t[i])!==o)||(n.add({Redo:function(){t[i]=o,e()},Undo:function(){s?t[i]=a:delete t[i],e()}}),!0)},deleteProperty:function(t,r){if(!(r in t))return!0;var i=t[r];return n.add({Redo:function(){delete t[r],e()},Undo:function(){t[r]=i,e()}}),!0}}):null}(this.orig,function(){return r.renderer.scheduleRender()},this.History)},t}();!function(t){function e(e,n){var r=t.call(this,e,n.History)||this;return n.Renderer&&r.init({scheduleRender:function(){return n.Renderer.scheduleRender()}}),r}(function(t,e){function n(){this.constructor=t}w(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(e,t)}(k);function E(t){return!!t.nodeName}function T(t,e){var n={};for(var r in t)n[r]=t[r];for(var r in e)n[r]=e[r];return n}function O(t){return"function"==typeof t?O(t()):null!=t?t:""}function P(t){return t&&E(t)?t.key:null}function x(t){return t.currentTarget.events[t.type](t)}var R={draggable:1,list:1,spellcheck:1,translate:1,type:1};function A(t,e,n,r,i){"key"!==e&&("style"===e?function(t,e,n){if("string"==typeof e)t.style.cssText=e;else for(var r in"string"==typeof n&&(n=t.style.cssText=""),T(n,e)){var i=null==e||null==e[r]?"":e[r];"-"===r[0]?t.style.setProperty(r,i):t.style[r]=i}}(t,n,r):("o"===e[0]&&"n"===e[1]?function(t,e,n,r){e=e.slice(2),t.events?r||(r=t.events[e]):t.events={},t.events[e]=n,n?r||t.addEventListener(e,x):t.removeEventListener(e,x)}(t,e,n,r):!(e in t)||e in R||i?null!=n&&!1!==n&&t.setAttribute(e,n):t[e]=null==n?"":n,null!=n&&!1!==n||t.removeAttribute(e)))}function C(t,e,n){function r(){t.removeChild(function t(e,n){if(E(n)){for(var r=n.attributes,i=0;i<n.children.length;i++)t(e.childNodes[i],n.children[i]);r.ondestroy&&r.ondestroy(e)}return e}(e,n))}var i=E(n)&&n.attributes&&n.attributes.onremove;i?i(e,r):r()}var S=function(){function t(t,e,n){this.skipRender=!1,this.isRecycling=!0,this.lifecycle=[],this.container=t,this.view=e,this.rootElement=t&&t.children[0]||null,this.oldNode=this.rootElement&&function t(e){return{attributes:{},children:[].map.call(e.childNodes,function(e){return 3===e.nodeType?e.nodeValue:t(e)}),nodeName:e.nodeName.toLowerCase()}}(this.rootElement),this.action=n}return t.prototype.render=function(){var t=this;this.skipRender=!this.skipRender;var e=O(function(){return t.action&&t.action.init(t),t.view()});for(this.container&&!this.skipRender&&(this.rootElement=this.patch(this.container,this.rootElement,this.oldNode,this.oldNode=e)),this.isRecycling=!1;this.lifecycle.length;)this.lifecycle.pop()();return e},t.prototype.scheduleRender=function(){this.skipRender||(this.skipRender=!0,setTimeout(this.render.bind(this)))},t.prototype.createElement=function(t,e){var n=null;if("string"==typeof t||"number"==typeof t?n=document.createTextNode(""+t):(e=e||"svg"===t.nodeName,n=e?document.createElementNS("http://www.w3.org/2000/svg",t.nodeName):document.createElement(t.nodeName)),E(t)){var r=t.attributes;if(r){r.oncreate&&this.lifecycle.push(function(){return r.oncreate(n)});for(var i=0;i<t.children.length;i++)n.appendChild(this.createElement(t.children[i]=O(t.children[i]),e));for(var o in r)A(n,o,r[o],null,e)}}return n},t.prototype.updateElement=function(t,e,n,r){for(var i in T(e,n)){n[i]!==("value"===i||"checked"===i?t[i]:e[i])&&A(t,i,n[i],e[i],r)}var o=this.isRecycling?n.oncreate:n.onupdate;o&&this.lifecycle.push(function(){return o(t,e)})},t.prototype.patchNewNode=function(t,e,n,r,i){var o=this.createElement(r,i);return t.insertBefore(o,e),null!=n&&C(t,e,n),o},t.prototype.patchChildren=function(t,e,n,r){void 0===r&&(r=!1),r=r||"svg"===n.nodeName,this.updateElement(t,e.attributes,n.attributes,r);for(var i={},o={},s=[],a=e.children,u=n.children,c=0;c<a.length;c++){s[c]=t.childNodes[c],null!=(f=P(a[c]))&&(i[f]=[s[c],a[c]])}for(var l=0,h=0;h<u.length;){var f=P(a[l]),d=P(u[h]=O(u[h]));if(o[f])l++;else if(null==d||d!==P(a[l+1]))if(null==d||this.isRecycling)null==f&&(this.patch(t,s[l],a[l],u[h],r),h++),l++;else{var p=i[d]||[];if(f===d)this.patch(t,p[0],p[1],u[h],r),l++;else if(p[0]){var y=t.insertBefore(p[0],s[l]);this.patch(t,y,p[1],u[h],r)}else this.patch(t,s[l],null,u[h],r);o[d]=u[h],h++}else null==f&&C(t,s[l],a[l]),l++}for(;l<a.length;)null==P(a[l])&&C(t,s[l],a[l]),l++;for(var c in i)o[c]||C(t,i[c][0],i[c][1]);return t},t.prototype.patch=function(t,e,n,r,i){if(void 0===i&&(i=!1),r===n)return e;if(null==n||n.nodeName!==r.nodeName)e=this.patchNewNode(t,e,n,r,i);else if(E(n)&&null!=n.nodeName||E(r)){if(!E(r)||!E(n))throw new Error("Mom, what this 'patch' wants???");e=this.patchChildren(e,n,r,i)}else e.nodeValue=""+r;return e},t}();function j(t,e,n){var r=new S(t,e,n);return r.scheduleRender(),r}var D=function(){return(D=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},B=function(t){return t.pathname+t.search+t.hash},I=function(t){return t?"string"==typeof t?[t,null]:[""+(t.pathname?(e=t.pathname,e.replace(/(.*)\/$/,"$1")):"")+(t.search?"?"===t.search[0]?t.search:"?"+t.search:"")+(t.hash?"#"===t.hash[0]?t.hash:"#"+t.hash:""),t.state]:["#",null];var e},M=null,N=function(){function t(t,e){this.rOwner=t,this.loc=B(window.location),M||(M=e),this.subscribe()}return t.prototype.go=function(t){var e=I(t),n=e[0],r=e[1];null!==n&&n!==B(window.location)&&history.pushState(r,"",n)},t.prototype.stop=function(){},t.prototype.wrapHistory=function(t){this.unwrapHistory=t.reduce(function(t,e){var n=history[e];return history[e]=function(t,e,r){n.bind(history)(t,e,r),dispatchEvent(new CustomEvent("pushstate",{detail:t}))},function(){history[e]=n,t&&t()}},null)},t.prototype.unwrapHistory=function(){},t.prototype.subscribe=function(){var t=this,e=function(e){var n="state"in e?e.state:e.detail,r=B(window.location);t.loc!==r&&(t.rOwner.onLocationChange?t.rOwner.onLocationChange(n):t.rOwner.Renderer.scheduleRender(),t.loc=r)};this.wrapHistory(["pushState","replaceState"]),addEventListener("pushstate",e),addEventListener("popstate",e),this.stop=function(){removeEventListener("pushstate",e),removeEventListener("popstate",e),t.unwrapHistory()}},t}(),F=function(t){return t.protocol+"//"+t.hostname+(t.port?":"+t.port:"")},H=function(t,e){return M("a",D({},t,{href:I(t.to)[0],onclick:function(e){var n;window.location;if((t.onclick&&t.onclick(e),!(e.defaultPrevented||0!==e.button||e.altKey||e.metaKey||e.ctrlKey||e.shiftKey||(n=e.currentTarget,n&&F(window.location)!==F(n))))&&t.to){e.preventDefault();var r=I(t.to),i=r[0],o=r[1];null!==i&&i!==B(window.location)&&history.pushState(o,"",i)}},to:void 0}),e)},L=function(t){return t+"_ref.json"},U=function(t){return"#apiref-"+t},V=function(t,e){return U(t)+"-"+e},q=["Classes","Functions","Constants","Variables","Types","Interfaces"];function W(t){return r(this,void 0,void 0,function(){var e;return i(this,function(n){return e=L(t),[2,new Promise(function(t){return fetch("built/data/"+e).then(function(e){return t(e.json())})})]})})}var G=function(){function t(t){var e=this;this.mainCtrl=t,this.ready={},this.fresh=!0,this.Router=new N(this,g),this.TreeCtrl=new Y,this.TOCCtrl=new $(function(){return e.TreeCtrl.Renderer.scheduleRender()})}return Object.defineProperty(t.prototype,"Fresh",{get:function(){return this.fresh},enumerable:!0,configurable:!0}),t.prototype.onLocationChange=function(t){return r(this,void 0,void 0,function(){var t,e,n,r,o,s,a,u;return i(this,function(i){switch(i.label){case 0:if(this.fresh=!1,t=window.location,e=/\#apiref\-([a-zA-Z_][a-zA-Z0-9_]*)(\-.*)?/,!(n=t.hash.match(e)))return[2];if((r=n[1])in this.ready)return this.setModule(r),[2];o=null,i.label=1;case 1:return i.trys.push([1,,3,4]),this.mainCtrl.loading(!0),[4,W(r)];case 2:return o=i.sent(),[3,4];case 3:return this.mainCtrl.loading(!1),[7];case 4:return o?(s=function(t){if(!t.children)return null;for(var e={Classes:[],Constants:[],Functions:[],Interfaces:[],Types:[],Variables:[]},n=0,r=t.children;n<r.length;n++){var i=r[n];switch(i.kind){case"VariableStatement":i.keyword&&"const"===i.keyword?e.Constants.push(i.name):e.Variables.push(i.name);break;case"InterfaceDeclaration":e.Interfaces.push(i.name);break;case"TypeAliasDeclaration":e.Types.push(i.name);break;case"ClassDeclaration":e.Classes.push(i.name);break;case"FunctionDeclaration":e.Functions.push(i.name);break;default:throw new Error("Mom, what is it "+i.kind+"?")}}for(var o in e)e[o]=e[o].sort();for(var s={},a=1,u=0,c=q;u<c.length;u++)for(var l=0,h=e[c[u]];l<h.length;l++)s[h[l]]=a,a++;return[e,s]}(o),a=s[0],u=s[1],this.ready[r]={tab:u,toc:a,tree:o},this.setModule(r),[2]):[2]}})})},t.prototype.setModule=function(t){this.TOCCtrl.setTOC(t,this.ready[t].toc),this.TreeCtrl.setTree(t,this.ready[t].tree,this.ready[t].tab)},t}();function X(t){switch(t.kind){case"VariableStatement":return t.keyword&&"const"===t.keyword?"Constant":"Variable";case"InterfaceDeclaration":return"Interface";case"TypeAliasDeclaration":return"Type";case"ClassDeclaration":return"Class";case"Constructor":return"Constructor";case"FunctionDeclaration":return"Function";case"MethodDeclaration":return"Method";case"PropertySignature":case"PropertyDeclaration":return"Property";default:throw new Error("Mom, what is it "+t.kind+"?")}}function K(t,e,n,r){void 0===n&&(n=[]),void 0===r&&(r=null);for(var i=0,o=t.children;i<o.length;i++){var s=o[i],a=X(s),u="Constructor"===a?"":s.name;r&&"Constructor"!==a&&(u=r+"."+u);var c={comment:s.commentText,decl:s.decl,hash:r?void 0:"#apiref-"+e+"-"+u,kind:a,name:u};s.children&&s.children.length&&(c.subSections=[],K(s,e,c.subSections,u)),n.push(c)}return n}var Y=function(t){function n(){return t.call(this,{modName:"",sections:[],tree:{}})||this}return e(n,t),n.prototype.setTree=function(t,e,n){return r(this,void 0,void 0,function(){return i(this,function(r){return e.children=e.children.sort(function(t,e){return n[t.name]-n[e.name]}),this.set({modName:t,sections:K(e,t),tree:e}),[2]})})},n}(k);function z(t,e,n){for(var r=[],i=0,o=q;i<o.length;i++){var s=o[i],a=e[s];if(!(a.length<1)){var u={items:a.map(function(e){return{active:!1,hash:V(t,e),refreshContent:n,title:e}}),section:{title:s}};r.push(u)}}return r}var $=function(t){function n(e){var n=t.call(this,{sections:[],toc:{}})||this;return n.refreshContent=e,n}return e(n,t),n.prototype.setTOC=function(t,e){return r(this,void 0,void 0,function(){return i(this,function(n){return this.set({toc:e,sections:z(t,e,this.refreshContent)}),[2]})})},n}(k),Z=function(t){function n(){return t.call(this,{loading:0})||this}return e(n,t),n.prototype.loading=function(t){this.State.loading+=t?1:-1},n}(k);function J(t){for(var e=[],n=0,r=t;n<r.length;n++){var i=r[n];e.push({title:i,hash:U(i)})}return e}var Q=function(t){function n(e){var n=t.call(this,{apiModNames:e,apirefData:J(e)})||this;return n.Router=new N(n,g),n}return e(n,t),n}(k),tt=function(t){try{return decodeURIComponent(t)}catch(e){return t}};var et=function(t){return function(){var e=window.location,n=function(t,e,n){if(t===e||!t)return{isExact:t===e,hashPattern:t,hashMatch:e};var r=t.slice(1).split("-"),i=e.slice(1).split("-");if(n&&r.length!==i.length)return null;for(var o={hashMatch:"#",hashPattern:t,isExact:!1,params:{}},s=r.length,a=i.length,u=0;u<s&&u<a;u++){var c=[r[u],i[u]],l=c[0],h=c[1];if(":"===l[0])l=l.slice(1),o.params[l]=h=tt(h);else if(l!==h)return null;o.hashMatch+=h+"-"}return o.hashMatch=o.hashMatch.slice(0,-1),o}(t.hash,e.hash,t.exact);if(!n)return null;var r=t.component({match:n},[]);if("function"==typeof r){r();return r()}return r}},nt="complete",rt="canceled";function it(t,e,n){t.self===t?t.scrollTo(e,n):(t.scrollLeft=e,t.scrollTop=n)}function ot(t){var e=t._scrollSettings;if(e){var n=function(t,e,n){var r,i,o,s,a,u,c,l=t.getBoundingClientRect(),h=n&&null!=n.left?n.left:.5,f=n&&null!=n.top?n.top:.5,d=n&&null!=n.leftOffset?n.leftOffset:0,p=n&&null!=n.topOffset?n.topOffset:0,y=h,v=f;if(e.self===e)u=Math.min(l.width,e.innerWidth),c=Math.min(l.height,e.innerHeight),i=l.left+e.pageXOffset-e.innerWidth*y+u*y,o=l.top+e.pageYOffset-e.innerHeight*v+c*v,o-=p,s=(i-=d)-e.pageXOffset,a=o-e.pageYOffset;else{u=l.width,c=l.height,r=e.getBoundingClientRect();var m=l.left-(r.left-e.scrollLeft),b=l.top-(r.top-e.scrollTop);i=m+u*y-e.clientWidth*y,o=b+c*v-e.clientHeight*v,i=Math.max(Math.min(i,e.scrollWidth-e.clientWidth),0),o=Math.max(Math.min(o,e.scrollHeight-e.clientHeight),0),o-=p,s=(i-=d)-e.scrollLeft,a=o-e.scrollTop}return{x:i,y:o,differenceX:s,differenceY:a}}(e.target,t,e.align),r=Date.now()-e.startTime,i=Math.min(1/e.time*r,1);if(r>e.time&&e.endIterations>3)return it(t,n.x,n.y),t._scrollSettings=null,e.end(nt);e.endIterations++;var o=1-e.ease(i);if(it(t,n.x-n.differenceX*o,n.y-n.differenceY*o),r>=e.time)return ot(t);!function(t){if("requestAnimationFrame"in window)return window.requestAnimationFrame(t);setTimeout(t,16)}(ot.bind(null,t))}}function st(t,e,n,r){var i,o=!e._scrollSettings,s=e._scrollSettings,a=Date.now();function u(t){e._scrollSettings=null,e.parentElement&&e.parentElement._scrollSettings&&e.parentElement._scrollSettings.end(t),r(t),e.removeEventListener("touchstart",i,{passive:!0})}s&&s.end(rt),e._scrollSettings={startTime:s?s.startTime:Date.now(),endIterations:0,target:t,time:n.time+(s?a-s.startTime:0),ease:n.ease,align:n.align,end:u},i=u.bind(null,rt),e.addEventListener("touchstart",i,{passive:!0}),o&&ot(e)}function at(t){return"pageXOffset"in t||(t.scrollHeight!==t.clientHeight||t.scrollWidth!==t.clientWidth)&&"hidden"!==getComputedStyle(t).overflow}function ut(){return!0}var ct=function(t,e,n){if(t){"function"==typeof e&&(n=e,e=null),e||(e={}),e.time=isNaN(e.time)?1e3:e.time,e.ease=e.ease||function(t){return 1-Math.pow(1-t,t/2)};for(var r=t.parentElement,i=0,o=e.validTarget||ut,s=e.isScrollable;r;){if(o(r,i)&&(s?s(r,at):at(r))&&(i++,st(t,r,e,a)),!(r=r.parentElement))return;"BODY"===r.tagName&&(r=(r=r.ownerDocument).defaultView||r.ownerWindow)}}function a(t){--i||n&&n(t)}},lt=function(t){return t.active?g("li",{class:"uk-active"},g(H,{to:"./"+t.hash,onclick:t.refreshContent},t.title)):g("li",null,g(H,{to:"./"+t.hash},t.title))},ht=function(t){return g("div",{key:"Sidebar",class:"ho-sidebar-left uk-visible@m"},g("h4",{class:"ho-h4",key:"SidebarTitle"},t.title),g("ul",{class:"uk-nav uk-nav-default",key:"SidebarUl"},t.sections.map(function(e){return function(t,e){var r;return[(r=t.section,g("li",{class:"uk-nav-header"},r.title))].concat(t.items.map(function(t){return g(lt,n({},n({},t,{active:t.hash===e})))}))}(e,t.activeHash)})))},ft=function(t){return function(e){return g(ht,{title:"module"in e.match.params?e.match.params.module+" API":null,sections:"module"in e.match.params?t:null,activeHash:e.match.hashMatch})}},dt=function(t){return function(e){t.hash===window.location.hash&&ct(e,{align:{top:0,topOffset:90}})}},pt=function(t){return function(e){e.innerHTML=marked(t.comment,{sanitize:!0})}},yt=function(t){return function(e){e.innerHTML=Prism.highlight(t,Prism.languages.tsx,"tsx")}},vt=function(t){return g("pre",{style:"margin-left: 20px"},g("code",{oncreate:yt(t.decl),onupdate:yt(t.decl)}))},mt=function(t){return g("p",{oncreate:pt(t),onupdate:pt(t),style:"margin-left: 20px"})},bt=function(t){return g("div",{onupdate:dt(t),class:"ho-content-section"},g("h4",{class:t.hash===window.location.hash?"ho-major-content-active-header":"ho-major-content-header"},t.kind+" ",g("a",{href:t.hash},g("span",{class:"ho-header-identifier"},t.name))),g(vt,{decl:t.decl}),g(mt,{comment:t.comment}),t.subSections&&t.subSections.length?[g("h5",{class:"ho-minor-content-header"},"Class"===t.kind?"Members":"Interface"===t.kind?"Properties":"")].concat(t.subSections.map(function(t){return g(gt,n({},t))})):"")},gt=function(t){return g("div",{class:"ho-content-section"},g(vt,{decl:t.decl}),g(mt,{comment:t.comment}))},wt=function(t){return g("div",{onupdate:function(t){window.location.hash.split("-").length<3&&ct(t,{align:{topOffset:200}})}},g("h3",{class:"ho-h4",style:"margin-bottom: 60px"},t.module," API ",t.version?g("span",{class:"uk-text-small",style:"position: relative; top: 5px; color: #999"},"version "+t.version,", ",g("a",{href:"https://www.typescriptlang.org/"},"TypeScript")):""),t.sections.map(function(t){return g(bt,n({},t))}))},_t=function(t,e){return g("li",{class:t.visible?"uk-visible@"+t.visible:""},g("a",{href:"#"},t.title),g("div",{class:"uk-navbar-dropdown"},g("ul",{class:"uk-nav uk-navbar-dropdown-nav"},e)))},kt=function(t,e){return g("li",{class:t.visible?"uk-visible@"+t.visible+" ":""+t.hidden?"uk-hidden@"+t.hidden:""},g("a",{href:"#",class:"uk-icon-link","uk-icon":t.title}),g("div",{class:"uk-navbar-dropdown"},g("ul",{class:"uk-nav uk-navbar-dropdown-nav"},e)))},Et=function(t){return g("li",{class:t.visible?"uk-visible@"+t.visible:""},g(H,{to:t.hash},t.title))},Tt=function(t){return g("li",{class:t.visible?"uk-visible@"+t.visible:""},g("div",{class:"uk-navbar-item"},g("form",{class:"uk-search uk-search-navbar"},g("span",{"uk-search-icon":!0,class:"ho-scaled-search-icon"}),g("input",{class:"uk-search-input",type:"search",onkeyup:function(e){return 13===e.keyCode?t.onSearch():""},oninput:function(e){return t.onSearchInput(e.target.value)},value:t.searchValue}))))},Ot=function(t){return g("ul",{class:"uk-navbar-nav"},t.searchArgs?g(Tt,{onSearchInput:t.searchArgs.onSearchInput,onSearch:t.searchArgs.onSearch,searchValue:t.searchArgs.searchValue,visible:"m"}):"",t.hasTutorial?g(Et,{title:"Tutorial",hash:"#tutorial",visible:"m"}):"",t.reference.length?g(_t,{title:"API Reference",visible:"m"},t.reference.map(function(t){var e=t.title,n=t.hash;return g(Et,{title:e,hash:n})})):"",t.examples.length?g(_t,{title:"Examples",visible:"m"},t.examples.map(function(t){var e=t.title,n=t.hash;return g(Et,{title:e,hash:n})})):"",t.hasDonationsPage?g(Et,{title:"Donate",hash:"#donate",visible:"m"}):"",g("li",{class:"uk-visible@m"},g("a",{href:"https://github.com/algebraic-brain/hyperoop/",class:"uk-icon-link","uk-icon":"github"})),g("li",{class:"uk-visible@m"},g("a",{href:"https://gitter.im/hyper-oop",class:"uk-icon-link","uk-icon":"gitter"})),g(kt,{title:"table",hidden:"m"},g("li",{class:"uk-nav-header"},"API"),t.reference.map(function(t){var e=t.title,n=t.hash;return g(Et,{title:e,hash:n})}),g("li",{class:"uk-nav-header"},"Community"),g("li",null,g("a",{href:"https://github.com/algebraic-brain/hyperoop/"},g("span",{"uk-icon":"icon: github; ratio: 0.8"}," ")," GitHub")),g("li",null,g("a",{href:"https://gitter.im/hyper-oop"},g("span",{"uk-icon":"icon: gitter; ratio: 0.8"}," ")," Gitter"))))};!function(){r(this,void 0,void 0,function(){var t,e,n,r,o,s;return i(this,function(i){switch(i.label){case 0:return t=new Z,e=new G(t),n=new Q(["HyperOOP","Router"]),e.Router.go("./#apiref-HyperOOP"),e.Fresh?[4,e.onLocationChange(null)]:[3,2];case 1:i.sent(),i.label=2;case 2:return r=function(){return g(Ot,{hasTutorial:!1,hasDonationsPage:!1,examples:[],reference:n.State.apirefData,searchArgs:null})},o=function(){return g(et,{exact:!1,hash:"#apiref-:module-:identifier",component:ft(e.TOCCtrl.State.sections)})},s=function(){return g(wt,{version:e.TreeCtrl.State.tree.version,module:e.TreeCtrl.State.modName,sections:e.TreeCtrl.State.sections})},j(document.getElementById("navbarPlace"),r,n),j(document.getElementById("sidebarPlace"),o,e.TOCCtrl),j(document.getElementById("contentPlace"),s,e.TreeCtrl),[2]}})})}()});
//# sourceMappingURL=index.js.map
