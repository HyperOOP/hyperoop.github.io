{"version":3,"file":"index.js","sources":["../../../node_modules/promise-polyfill/src/finally.js","../../../node_modules/promise-polyfill/src/index.js","../../../node_modules/promise-polyfill/src/polyfill.js","../../../node_modules/whatwg-fetch/dist/fetch.umd.js","../../../node_modules/hyperoop/dist/hyperoop.es.js","../../../node_modules/hyperoop-router/dist/router.es.js","../../../src/utils/misc.ts","../../../src/model/apiref.ts","../../../src/controller/apiref.ts","../../../src/controller/main.ts","../../../src/controller/navbar.ts","../../../src/utils/hroute.ts","../../../node_modules/scroll-into-view/scrollIntoView.js","../../../src/view/sidebar.tsx","../../../src/view/apiref.tsx","../../../src/view/navbar.tsx","../../../src/index.tsx"],"sourcesContent":["/**\n * @this {Promise}\n */\nfunction finallyConstructor(callback) {\n  var constructor = this.constructor;\n  return this.then(\n    function(value) {\n      return constructor.resolve(callback()).then(function() {\n        return value;\n      });\n    },\n    function(reason) {\n      return constructor.resolve(callback()).then(function() {\n        return constructor.reject(reason);\n      });\n    }\n  );\n}\n\nexport default finallyConstructor;\n","import promiseFinally from './finally';\n\n// Store setTimeout reference so promise-polyfill will be unaffected by\n// other code modifying setTimeout (like sinon.useFakeTimers())\nvar setTimeoutFunc = setTimeout;\n\nfunction noop() {}\n\n// Polyfill for Function.prototype.bind\nfunction bind(fn, thisArg) {\n  return function() {\n    fn.apply(thisArg, arguments);\n  };\n}\n\n/**\n * @constructor\n * @param {Function} fn\n */\nfunction Promise(fn) {\n  if (!(this instanceof Promise))\n    throw new TypeError('Promises must be constructed via new');\n  if (typeof fn !== 'function') throw new TypeError('not a function');\n  /** @type {!number} */\n  this._state = 0;\n  /** @type {!boolean} */\n  this._handled = false;\n  /** @type {Promise|undefined} */\n  this._value = undefined;\n  /** @type {!Array<!Function>} */\n  this._deferreds = [];\n\n  doResolve(fn, this);\n}\n\nfunction handle(self, deferred) {\n  while (self._state === 3) {\n    self = self._value;\n  }\n  if (self._state === 0) {\n    self._deferreds.push(deferred);\n    return;\n  }\n  self._handled = true;\n  Promise._immediateFn(function() {\n    var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n      return;\n    }\n    var ret;\n    try {\n      ret = cb(self._value);\n    } catch (e) {\n      reject(deferred.promise, e);\n      return;\n    }\n    resolve(deferred.promise, ret);\n  });\n}\n\nfunction resolve(self, newValue) {\n  try {\n    // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n    if (newValue === self)\n      throw new TypeError('A promise cannot be resolved with itself.');\n    if (\n      newValue &&\n      (typeof newValue === 'object' || typeof newValue === 'function')\n    ) {\n      var then = newValue.then;\n      if (newValue instanceof Promise) {\n        self._state = 3;\n        self._value = newValue;\n        finale(self);\n        return;\n      } else if (typeof then === 'function') {\n        doResolve(bind(then, newValue), self);\n        return;\n      }\n    }\n    self._state = 1;\n    self._value = newValue;\n    finale(self);\n  } catch (e) {\n    reject(self, e);\n  }\n}\n\nfunction reject(self, newValue) {\n  self._state = 2;\n  self._value = newValue;\n  finale(self);\n}\n\nfunction finale(self) {\n  if (self._state === 2 && self._deferreds.length === 0) {\n    Promise._immediateFn(function() {\n      if (!self._handled) {\n        Promise._unhandledRejectionFn(self._value);\n      }\n    });\n  }\n\n  for (var i = 0, len = self._deferreds.length; i < len; i++) {\n    handle(self, self._deferreds[i]);\n  }\n  self._deferreds = null;\n}\n\n/**\n * @constructor\n */\nfunction Handler(onFulfilled, onRejected, promise) {\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, self) {\n  var done = false;\n  try {\n    fn(\n      function(value) {\n        if (done) return;\n        done = true;\n        resolve(self, value);\n      },\n      function(reason) {\n        if (done) return;\n        done = true;\n        reject(self, reason);\n      }\n    );\n  } catch (ex) {\n    if (done) return;\n    done = true;\n    reject(self, ex);\n  }\n}\n\nPromise.prototype['catch'] = function(onRejected) {\n  return this.then(null, onRejected);\n};\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  // @ts-ignore\n  var prom = new this.constructor(noop);\n\n  handle(this, new Handler(onFulfilled, onRejected, prom));\n  return prom;\n};\n\nPromise.prototype['finally'] = promiseFinally;\n\nPromise.all = function(arr) {\n  return new Promise(function(resolve, reject) {\n    if (!arr || typeof arr.length === 'undefined')\n      throw new TypeError('Promise.all accepts an array');\n    var args = Array.prototype.slice.call(arr);\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n\n    function res(i, val) {\n      try {\n        if (val && (typeof val === 'object' || typeof val === 'function')) {\n          var then = val.then;\n          if (typeof then === 'function') {\n            then.call(\n              val,\n              function(val) {\n                res(i, val);\n              },\n              reject\n            );\n            return;\n          }\n        }\n        args[i] = val;\n        if (--remaining === 0) {\n          resolve(args);\n        }\n      } catch (ex) {\n        reject(ex);\n      }\n    }\n\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise.resolve = function(value) {\n  if (value && typeof value === 'object' && value.constructor === Promise) {\n    return value;\n  }\n\n  return new Promise(function(resolve) {\n    resolve(value);\n  });\n};\n\nPromise.reject = function(value) {\n  return new Promise(function(resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function(values) {\n  return new Promise(function(resolve, reject) {\n    for (var i = 0, len = values.length; i < len; i++) {\n      values[i].then(resolve, reject);\n    }\n  });\n};\n\n// Use polyfill for setImmediate for performance gains\nPromise._immediateFn =\n  (typeof setImmediate === 'function' &&\n    function(fn) {\n      setImmediate(fn);\n    }) ||\n  function(fn) {\n    setTimeoutFunc(fn, 0);\n  };\n\nPromise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n  if (typeof console !== 'undefined' && console) {\n    console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n  }\n};\n\nexport default Promise;\n","import Promise from './index';\nimport promiseFinally from './finally';\n\n/** @suppress {undefinedVars} */\nvar globalNS = (function() {\n  // the only reliable means to get the global object is\n  // `Function('return this')()`\n  // However, this causes CSP violations in Chrome apps.\n  if (typeof self !== 'undefined') {\n    return self;\n  }\n  if (typeof window !== 'undefined') {\n    return window;\n  }\n  if (typeof global !== 'undefined') {\n    return global;\n  }\n  throw new Error('unable to locate global object');\n})();\n\nif (!('Promise' in globalNS)) {\n  globalNS['Promise'] = Promise;\n} else if (!globalNS.Promise.prototype['finally']) {\n  globalNS.Promise.prototype['finally'] = promiseFinally;\n}\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (factory((global.WHATWGFetch = {})));\n}(this, (function (exports) { 'use strict';\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob:\n      'FileReader' in self &&\n      'Blob' in self &&\n      (function() {\n        try {\n          new Blob();\n          return true\n        } catch (e) {\n          return false\n        }\n      })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  };\n\n  function isDataView(obj) {\n    return obj && DataView.prototype.isPrototypeOf(obj)\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ];\n\n    var isArrayBufferView =\n      ArrayBuffer.isView ||\n      function(obj) {\n        return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n      };\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name);\n    }\n    if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value);\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift();\n        return {done: value === undefined, value: value}\n      }\n    };\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      };\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {};\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value);\n      }, this);\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1]);\n      }, this);\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name]);\n      }, this);\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name);\n    value = normalizeValue(value);\n    var oldValue = this.map[name];\n    this.map[name] = oldValue ? oldValue + ', ' + value : value;\n  };\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)];\n  };\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name);\n    return this.has(name) ? this.map[name] : null\n  };\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  };\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value);\n  };\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this);\n      }\n    }\n  };\n\n  Headers.prototype.keys = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push(name);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.values = function() {\n    var items = [];\n    this.forEach(function(value) {\n      items.push(value);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.entries = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push([name, value]);\n    });\n    return iteratorFor(items)\n  };\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries;\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true;\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result);\n      };\n      reader.onerror = function() {\n        reject(reader.error);\n      };\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsArrayBuffer(blob);\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsText(blob);\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf);\n    var chars = new Array(view.length);\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i]);\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength);\n      view.set(new Uint8Array(buf));\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false;\n\n    this._initBody = function(body) {\n      this._bodyInit = body;\n      if (!body) {\n        this._bodyText = '';\n      } else if (typeof body === 'string') {\n        this._bodyText = body;\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body;\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body;\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString();\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer);\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer]);\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body);\n      } else {\n        this._bodyText = body = Object.prototype.toString.call(body);\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8');\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type);\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n        }\n      }\n    };\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this);\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      };\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      };\n    }\n\n    this.text = function() {\n      var rejected = consumed(this);\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    };\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      };\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    };\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase();\n    return methods.indexOf(upcased) > -1 ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {};\n    var body = options.body;\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url;\n      this.credentials = input.credentials;\n      if (!options.headers) {\n        this.headers = new Headers(input.headers);\n      }\n      this.method = input.method;\n      this.mode = input.mode;\n      this.signal = input.signal;\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit;\n        input.bodyUsed = true;\n      }\n    } else {\n      this.url = String(input);\n    }\n\n    this.credentials = options.credentials || this.credentials || 'same-origin';\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers);\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET');\n    this.mode = options.mode || this.mode || null;\n    this.signal = options.signal || this.signal;\n    this.referrer = null;\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body);\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, {body: this._bodyInit})\n  };\n\n  function decode(body) {\n    var form = new FormData();\n    body\n      .trim()\n      .split('&')\n      .forEach(function(bytes) {\n        if (bytes) {\n          var split = bytes.split('=');\n          var name = split.shift().replace(/\\+/g, ' ');\n          var value = split.join('=').replace(/\\+/g, ' ');\n          form.append(decodeURIComponent(name), decodeURIComponent(value));\n        }\n      });\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers();\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ');\n    preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':');\n      var key = parts.shift().trim();\n      if (key) {\n        var value = parts.join(':').trim();\n        headers.append(key, value);\n      }\n    });\n    return headers\n  }\n\n  Body.call(Request.prototype);\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {};\n    }\n\n    this.type = 'default';\n    this.status = options.status === undefined ? 200 : options.status;\n    this.ok = this.status >= 200 && this.status < 300;\n    this.statusText = 'statusText' in options ? options.statusText : 'OK';\n    this.headers = new Headers(options.headers);\n    this.url = options.url || '';\n    this._initBody(bodyInit);\n  }\n\n  Body.call(Response.prototype);\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  };\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''});\n    response.type = 'error';\n    return response\n  };\n\n  var redirectStatuses = [301, 302, 303, 307, 308];\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  };\n\n  exports.DOMException = self.DOMException;\n  try {\n    new exports.DOMException();\n  } catch (err) {\n    exports.DOMException = function(message, name) {\n      this.message = message;\n      this.name = name;\n      var error = Error(message);\n      this.stack = error.stack;\n    };\n    exports.DOMException.prototype = Object.create(Error.prototype);\n    exports.DOMException.prototype.constructor = exports.DOMException;\n  }\n\n  function fetch(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init);\n\n      if (request.signal && request.signal.aborted) {\n        return reject(new exports.DOMException('Aborted', 'AbortError'))\n      }\n\n      var xhr = new XMLHttpRequest();\n\n      function abortXhr() {\n        xhr.abort();\n      }\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        };\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL');\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options));\n      };\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.onabort = function() {\n        reject(new exports.DOMException('Aborted', 'AbortError'));\n      };\n\n      xhr.open(request.method, request.url, true);\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true;\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false;\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob';\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value);\n      });\n\n      if (request.signal) {\n        request.signal.addEventListener('abort', abortXhr);\n\n        xhr.onreadystatechange = function() {\n          // DONE (success or failure)\n          if (xhr.readyState === 4) {\n            request.signal.removeEventListener('abort', abortXhr);\n          }\n        };\n      }\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);\n    })\n  }\n\n  fetch.polyfill = true;\n\n  if (!self.fetch) {\n    self.fetch = fetch;\n    self.Headers = Headers;\n    self.Request = Request;\n    self.Response = Response;\n  }\n\n  exports.Headers = Headers;\n  exports.Request = Request;\n  exports.Response = Response;\n  exports.fetch = fetch;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","function isChildren(x) {\r\n    return !x.pop;\r\n}\r\nfunction h(name, attributes) {\r\n    var rest = [];\r\n    for (var _i = 2; _i < arguments.length; _i++) {\r\n        rest[_i - 2] = arguments[_i];\r\n    }\r\n    var ch = [];\r\n    rest.reverse();\r\n    while (rest.length) {\r\n        var nod = rest.pop();\r\n        if (nod && !isChildren(nod)) {\r\n            for (var i = nod.length - 1; i >= 0; i--) {\r\n                rest.push(nod[i]);\r\n            }\r\n        }\r\n        else if (nod != null && nod !== true && nod !== false) {\r\n            ch.push(nod);\r\n        }\r\n    }\r\n    if (typeof name === \"function\") {\r\n        return name(attributes || {}, ch);\r\n    }\r\n    var node = {\r\n        attributes: attributes || {},\r\n        children: ch,\r\n        key: attributes && attributes.key,\r\n        nodeName: name,\r\n    };\r\n    return node;\r\n}\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\n\n/**\r\n * Creates Proxy that calls `after` callback after set or delete entries of a `target`.\r\n *\r\n *\r\n * @param target target object\r\n * @param after callback to execute after set or delete entries of `target`\r\n */\r\nfunction make(target, after) {\r\n    return new Proxy(target, {\r\n        set: function (t, k, v) {\r\n            if (k in t && t[k] === v) {\r\n                return true;\r\n            }\r\n            t[k] = v;\r\n            after();\r\n            return true;\r\n        },\r\n        deleteProperty: function (t, k) {\r\n            if (k in t) {\r\n                delete t[k];\r\n                after();\r\n            }\r\n            return true;\r\n        },\r\n    });\r\n}\r\n/**\r\n * Creates Proxy that calls `after` callback after set or delete entries of a `target`.\r\n * Set or delete actions can be (re, un)done using `redoundo.Hist` argument.\r\n *\r\n * @param target target object\r\n * @param after callback to execute after set or delete entries of `target`\r\n * @param hist `redoundo.Hist` object\r\n */\r\nfunction makeH(target, after, hist) {\r\n    if (!hist) {\r\n        return null;\r\n    }\r\n    return new Proxy(target, {\r\n        set: function (t, k, v) {\r\n            var was = k in target;\r\n            var oldVal = null;\r\n            if (was) {\r\n                oldVal = target[k];\r\n                if (oldVal === v) {\r\n                    return true;\r\n                }\r\n            }\r\n            var redo = function () {\r\n                target[k] = v;\r\n                after();\r\n            };\r\n            var undo = function () {\r\n                if (was) {\r\n                    target[k] = oldVal;\r\n                }\r\n                else {\r\n                    delete target[k];\r\n                }\r\n                after();\r\n            };\r\n            hist.add({ Redo: redo, Undo: undo });\r\n            return true;\r\n        },\r\n        deleteProperty: function (t, k) {\r\n            if (!(k in t)) {\r\n                return true;\r\n            }\r\n            var v = t[k];\r\n            var redo = function () {\r\n                delete t[k];\r\n                after();\r\n            };\r\n            var undo = function () {\r\n                t[k] = v;\r\n                after();\r\n            };\r\n            hist.add({ Redo: redo, Undo: undo });\r\n            return true;\r\n        },\r\n    });\r\n}\n\n/** Class of `hyperoop` top-level actions. When you properly set new values\r\n *  to entries of the `State` property then the corresponding DOM element will\r\n *  be redrawn automatically. The correspondence between `Actions` object\r\n *  and this DOM element is established by `init` function call.\r\n */\r\nvar Actions = /** @class */ (function () {\r\n    /** Construct an `Action` object, setting the initial `state` to it and optionally describing\r\n     *  the `hist` object of type `redoundo.Hist`.\r\n     */\r\n    function Actions(start, hist) {\r\n        this.orig = start;\r\n        this.History = hist;\r\n        this.init({ scheduleRender: function () { return null; } });\r\n    }\r\n    Object.defineProperty(Actions.prototype, \"State\", {\r\n        /** This property, along with the `Remember` property, is used to change\r\n         *  the state of an application and automatically redraw the user interface.\r\n         */\r\n        get: function () { return this.state; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Actions.prototype, \"Remember\", {\r\n        /** This property has almost the same functionality as the `State` property,\r\n         *  with the difference that changes made to it can be undone by calling the\r\n         *  `History.undo` method.\r\n         */\r\n        get: function () { return this.remember; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Actions.prototype, \"Renderer\", {\r\n        /** You can force redraw of the user interface by calling the `sheduleRender`\r\n         *  method provided by this property. Usually you do not need to call it directly.\r\n         */\r\n        get: function () { return this.renderer; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /** The page is redrawn automatically every time you set a new value for any entry of the `State`\r\n     *  property. To set values for several inputs at once with only one automatic redraw, use\r\n     *  this method, passing it a partial description of the new state and the optional parameter\r\n     *  `remember` (`false` by default). If the value of the parameter `remember` is set to `true`, then\r\n     *  the changes can be undone by calling `History.undo` method.\r\n     */\r\n    Actions.prototype.set = function (s, remember) {\r\n        var _this = this;\r\n        if (remember === void 0) { remember = false; }\r\n        var keys;\r\n        if (Array.isArray(s)) {\r\n            keys = Array.from(s.keys());\r\n        }\r\n        else {\r\n            keys = Object.getOwnPropertyNames(s);\r\n        }\r\n        keys = keys.filter(function (k) { return !(k in _this.orig) || _this.orig[k] !== s[k]; });\r\n        var change = keys.length > 0;\r\n        if (!change) {\r\n            return;\r\n        }\r\n        var self = this;\r\n        if (remember && this.History) {\r\n            var was_1 = {};\r\n            var wasnt_1 = [];\r\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\r\n                var k = keys_1[_i];\r\n                if (k in this.orig) {\r\n                    was_1[k] = this.orig[k];\r\n                }\r\n                else {\r\n                    wasnt_1.push(k);\r\n                }\r\n            }\r\n            this.History.add({\r\n                Redo: function () {\r\n                    for (var _i = 0, keys_3 = keys; _i < keys_3.length; _i++) {\r\n                        var k = keys_3[_i];\r\n                        self.orig[k] = s[k];\r\n                    }\r\n                    self.renderer.scheduleRender();\r\n                },\r\n                Undo: function () {\r\n                    for (var k in was_1) {\r\n                        self.orig[k] = was_1[k];\r\n                    }\r\n                    for (var _i = 0, wasnt_2 = wasnt_1; _i < wasnt_2.length; _i++) {\r\n                        var k = wasnt_2[_i];\r\n                        delete self.orig[k];\r\n                    }\r\n                    self.renderer.scheduleRender();\r\n                },\r\n            });\r\n        }\r\n        else {\r\n            for (var _a = 0, keys_2 = keys; _a < keys_2.length; _a++) {\r\n                var k = keys_2[_a];\r\n                this.orig[k] = s[k];\r\n            }\r\n            this.renderer.scheduleRender();\r\n        }\r\n    };\r\n    /** This method is used to initialize the `Actions` object by an instance of the `IRenderer` interface.\r\n     *  Usually you do not need to call it directly.\r\n     */\r\n    Actions.prototype.init = function (r) {\r\n        this.renderer = r;\r\n        var self = this;\r\n        this.state = make(this.orig, function () { return self.renderer.scheduleRender(); });\r\n        this.remember = makeH(this.orig, function () { return self.renderer.scheduleRender(); }, this.History);\r\n    };\r\n    return Actions;\r\n}());\r\n/** Usually, you only need to manually initialize top-level `Action` objects (by calling the `init` function).\r\n * This class is used for lower level action-objects that inherit the necessary properties from higher level\r\n * objects. Thus, you do not need to initialize the `SubActions` of the lower levels manually.\r\n */\r\nvar SubActions = /** @class */ (function (_super) {\r\n    __extends(SubActions, _super);\r\n    /** Construct an `Action` object, setting the initial `state` and parental `Actions`\r\n     *  object. The last will be used for initializing new instance by renderer and history objects.\r\n     */\r\n    function SubActions(start, parent) {\r\n        var _this = _super.call(this, start, parent.History) || this;\r\n        if (parent.Renderer) {\r\n            _this.init({ scheduleRender: function () { return parent.Renderer.scheduleRender(); } });\r\n        }\r\n        return _this;\r\n    }\r\n    return SubActions;\r\n}(Actions));\n\nfunction isVNode(n) {\r\n    return !!n.nodeName;\r\n}\r\nfunction clone(target, source) {\r\n    var out = {};\r\n    for (var i in target) {\r\n        out[i] = target[i];\r\n    }\r\n    for (var i in source) {\r\n        out[i] = source[i];\r\n    }\r\n    return out;\r\n}\r\nfunction elementToVNode(element) {\r\n    return {\r\n        attributes: {},\r\n        children: [].map.call(element.childNodes, function (el) { return el.nodeType === 3 // Node.TEXT_NODE\r\n            ? el.nodeValue\r\n            : elementToVNode(el); }),\r\n        nodeName: element.nodeName.toLowerCase(),\r\n    };\r\n}\r\nfunction resolveNode(node) {\r\n    return typeof node === \"function\"\r\n        ? resolveNode(node())\r\n        : node != null\r\n            ? node\r\n            : \"\";\r\n}\r\nfunction getKey(node) {\r\n    return node && isVNode(node) ? node.key : null;\r\n}\r\nfunction eventListener(event) {\r\n    return event.currentTarget.events[event.type](event);\r\n}\r\nfunction updateStyle(element, value, oldValue) {\r\n    if (typeof value === \"string\") {\r\n        element.style.cssText = value;\r\n    }\r\n    else {\r\n        if (typeof oldValue === \"string\") {\r\n            oldValue = element.style.cssText = \"\";\r\n        }\r\n        for (var key in clone(oldValue, value)) {\r\n            var style = value == null || value[key] == null ? \"\" : value[key];\r\n            if (key[0] === \"-\") {\r\n                element.style.setProperty(key, style);\r\n            }\r\n            else {\r\n                element.style[key] = style;\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction updateEventProperty(element, name, value, oldValue) {\r\n    name = name.slice(2);\r\n    if (element.events) {\r\n        if (!oldValue) {\r\n            oldValue = element.events[name];\r\n        }\r\n    }\r\n    else {\r\n        element.events = {};\r\n    }\r\n    element.events[name] = value;\r\n    if (value) {\r\n        if (!oldValue) {\r\n            element.addEventListener(name, eventListener);\r\n        }\r\n    }\r\n    else {\r\n        element.removeEventListener(name, eventListener);\r\n    }\r\n}\r\nvar specialAttrNames = {\r\n    draggable: 1,\r\n    list: 1,\r\n    spellcheck: 1,\r\n    translate: 1,\r\n    type: 1,\r\n};\r\nfunction updateAttribute(element, name, value, oldValue, isSvg) {\r\n    if (name === \"key\") {\r\n        return;\r\n    }\r\n    if (name === \"style\") {\r\n        updateStyle(element, value, oldValue);\r\n    }\r\n    else {\r\n        if (name[0] === \"o\" && name[1] === \"n\") {\r\n            updateEventProperty(element, name, value, oldValue);\r\n        }\r\n        else if (name in element && !(name in specialAttrNames) && !isSvg) {\r\n            element[name] = value == null ? \"\" : value;\r\n        }\r\n        else if (value != null && value !== false) {\r\n            element.setAttribute(name, value);\r\n        }\r\n        if (value == null || value === false) {\r\n            element.removeAttribute(name);\r\n        }\r\n    }\r\n}\r\nfunction removeChildren(element, node) {\r\n    if (isVNode(node)) {\r\n        var attributes = node.attributes;\r\n        for (var i = 0; i < node.children.length; i++) {\r\n            removeChildren(element.childNodes[i], node.children[i]);\r\n        }\r\n        if (attributes.ondestroy) {\r\n            attributes.ondestroy(element);\r\n        }\r\n    }\r\n    return element;\r\n}\r\nfunction removeElement(parent, element, node) {\r\n    function done() {\r\n        parent.removeChild(removeChildren(element, node));\r\n    }\r\n    var cb = isVNode(node) && node.attributes && node.attributes.onremove;\r\n    if (cb) {\r\n        cb(element, done);\r\n    }\r\n    else {\r\n        done();\r\n    }\r\n}\r\nvar Renderer = /** @class */ (function () {\r\n    function Renderer(container, view, action) {\r\n        this.skipRender = false;\r\n        this.isRecycling = true;\r\n        this.lifecycle = [];\r\n        this.container = container;\r\n        this.view = view;\r\n        this.rootElement = (container && container.children[0]) || null;\r\n        this.oldNode = this.rootElement && elementToVNode(this.rootElement);\r\n        this.action = action;\r\n    }\r\n    Renderer.prototype.render = function () {\r\n        var _this = this;\r\n        this.skipRender = !this.skipRender;\r\n        var node = resolveNode(function () {\r\n            if (_this.action) {\r\n                _this.action.init(_this);\r\n            }\r\n            return _this.view();\r\n        });\r\n        if (this.container && !this.skipRender) {\r\n            this.rootElement = this.patch(this.container, this.rootElement, this.oldNode, (this.oldNode = node));\r\n        }\r\n        this.isRecycling = false;\r\n        while (this.lifecycle.length) {\r\n            this.lifecycle.pop()();\r\n        }\r\n        return node;\r\n    };\r\n    Renderer.prototype.scheduleRender = function () {\r\n        if (!this.skipRender) {\r\n            this.skipRender = true;\r\n            setTimeout(this.render.bind(this));\r\n        }\r\n    };\r\n    Renderer.prototype.createElement = function (node, isSvg) {\r\n        var element = null;\r\n        if (typeof node === \"string\" || typeof node === \"number\") {\r\n            element = document.createTextNode(\"\" + node);\r\n        }\r\n        else {\r\n            isSvg = isSvg || node.nodeName === \"svg\";\r\n            if (isSvg) {\r\n                element = document.createElementNS(\"http://www.w3.org/2000/svg\", node.nodeName);\r\n            }\r\n            else {\r\n                element = document.createElement(node.nodeName);\r\n            }\r\n        }\r\n        if (isVNode(node)) {\r\n            var attributes_1 = node.attributes;\r\n            if (attributes_1) {\r\n                if (attributes_1.oncreate) {\r\n                    this.lifecycle.push(function () { return attributes_1.oncreate(element); });\r\n                }\r\n                for (var i = 0; i < node.children.length; i++) {\r\n                    element.appendChild(this.createElement((node.children[i] = resolveNode(node.children[i])), isSvg));\r\n                }\r\n                for (var name_1 in attributes_1) {\r\n                    updateAttribute(element, name_1, attributes_1[name_1], null, isSvg);\r\n                }\r\n            }\r\n        }\r\n        return element;\r\n    };\r\n    Renderer.prototype.updateElement = function (element, oldAttributes, attributes, isSvg) {\r\n        for (var name_2 in clone(oldAttributes, attributes)) {\r\n            var needUpdate = attributes[name_2] !==\r\n                (name_2 === \"value\" || name_2 === \"checked\" ? element[name_2] : oldAttributes[name_2]);\r\n            if (needUpdate) {\r\n                updateAttribute(element, name_2, attributes[name_2], oldAttributes[name_2], isSvg);\r\n            }\r\n        }\r\n        var cb = this.isRecycling ? attributes.oncreate : attributes.onupdate;\r\n        if (cb) {\r\n            this.lifecycle.push(function () { return cb(element, oldAttributes); });\r\n        }\r\n    };\r\n    Renderer.prototype.patchNewNode = function (parent, element, oldNode, node, isSvg) {\r\n        var newElement = this.createElement(node, isSvg);\r\n        parent.insertBefore(newElement, element);\r\n        if (oldNode != null) {\r\n            removeElement(parent, element, oldNode);\r\n        }\r\n        return newElement;\r\n    };\r\n    Renderer.prototype.patchChildren = function (element, oldNode, node, isSvg) {\r\n        if (isSvg === void 0) { isSvg = false; }\r\n        isSvg = isSvg || node.nodeName === \"svg\";\r\n        this.updateElement(element, oldNode.attributes, node.attributes, isSvg);\r\n        var oldKeyed = {};\r\n        var newKeyed = {};\r\n        var oldElements = [];\r\n        var oldChildren = oldNode.children;\r\n        var children = node.children;\r\n        for (var j = 0; j < oldChildren.length; j++) {\r\n            oldElements[j] = element.childNodes[j];\r\n            var oldKey = getKey(oldChildren[j]);\r\n            if (oldKey != null) {\r\n                oldKeyed[oldKey] = [oldElements[j], oldChildren[j]];\r\n            }\r\n        }\r\n        var i = 0;\r\n        var k = 0;\r\n        while (k < children.length) {\r\n            var oldKey = getKey(oldChildren[i]);\r\n            var newKey = getKey((children[k] = resolveNode(children[k])));\r\n            if (newKeyed[oldKey]) {\r\n                i++;\r\n                continue;\r\n            }\r\n            if (newKey != null && newKey === getKey(oldChildren[i + 1])) {\r\n                if (oldKey == null) {\r\n                    removeElement(element, oldElements[i], oldChildren[i]);\r\n                }\r\n                i++;\r\n                continue;\r\n            }\r\n            if (newKey == null || this.isRecycling) {\r\n                if (oldKey == null) {\r\n                    this.patch(element, oldElements[i], oldChildren[i], children[k], isSvg);\r\n                    k++;\r\n                }\r\n                i++;\r\n            }\r\n            else {\r\n                var keyedNode = oldKeyed[newKey] || [];\r\n                if (oldKey === newKey) {\r\n                    this.patch(element, keyedNode[0], keyedNode[1], children[k], isSvg);\r\n                    i++;\r\n                }\r\n                else if (keyedNode[0]) {\r\n                    var el = element.insertBefore(keyedNode[0], oldElements[i]);\r\n                    this.patch(element, el, keyedNode[1], children[k], isSvg);\r\n                }\r\n                else {\r\n                    this.patch(element, oldElements[i], null, children[k], isSvg);\r\n                }\r\n                newKeyed[newKey] = children[k];\r\n                k++;\r\n            }\r\n        }\r\n        while (i < oldChildren.length) {\r\n            if (getKey(oldChildren[i]) == null) {\r\n                removeElement(element, oldElements[i], oldChildren[i]);\r\n            }\r\n            i++;\r\n        }\r\n        for (var j in oldKeyed) {\r\n            if (!newKeyed[j]) {\r\n                removeElement(element, oldKeyed[j][0], oldKeyed[j][1]);\r\n            }\r\n        }\r\n        return element;\r\n    };\r\n    Renderer.prototype.patch = function (parent, element, oldNode, node, isSvg) {\r\n        if (isSvg === void 0) { isSvg = false; }\r\n        if (node === oldNode) {\r\n            return element;\r\n        }\r\n        if (oldNode == null || (oldNode.nodeName !== node.nodeName)) {\r\n            element = this.patchNewNode(parent, element, oldNode, node, isSvg);\r\n        }\r\n        else if ((!isVNode(oldNode) || oldNode.nodeName == null) && !isVNode(node)) {\r\n            element.nodeValue = \"\" + node;\r\n        }\r\n        else if (isVNode(node) && isVNode(oldNode)) {\r\n            element = this.patchChildren(element, oldNode, node, isSvg);\r\n        }\r\n        else {\r\n            throw new Error(\"Mom, what this 'patch' wants???\");\r\n        }\r\n        return element;\r\n    };\r\n    return Renderer;\r\n}());\n\n/** Initialize DOM element `container` with virtual node `view` and optional\r\n *  `Actions` object `actions`. Calling this function is the only and necessary\r\n *  method of attaching a virtual tree to a DOM element.\r\n */\r\nfunction init(container, view, action) {\r\n    var renderer = new Renderer(container, view, action);\r\n    renderer.scheduleRender();\r\n    return renderer;\r\n}\n\nexport { init, h, Actions, SubActions };\n//# sourceMappingURL=hyperoop.es.js.map\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar trimTrailingSlash = function (x) { return x.replace(/(.*)\\/$/, \"$1\"); };\r\nvar decodeParam = function (val) {\r\n    try {\r\n        return decodeURIComponent(val);\r\n    }\r\n    catch (_a) {\r\n        return val;\r\n    }\r\n};\r\nfunction parseRoute(path, url, exact) {\r\n    if (path === url || !path) {\r\n        return { isExact: path === url, path: path, url: url };\r\n    }\r\n    var paths = trimTrailingSlash(path).split(\"/\");\r\n    var urls = trimTrailingSlash(url).split(\"/\");\r\n    if (paths.length > urls.length || (exact && paths.length < urls.length)) {\r\n        return null;\r\n    }\r\n    var result = {\r\n        isExact: false,\r\n        params: {},\r\n        path: path,\r\n        url: \"\",\r\n    };\r\n    var len = paths.length;\r\n    for (var i = 0; i < len; i++) {\r\n        var _a = [paths[i], urls[i]], p = _a[0], u = _a[1];\r\n        if (\":\" === p[0]) {\r\n            p = p.slice(1);\r\n            result.params[p] = u = decodeParam(u);\r\n        }\r\n        else if (p !== u) {\r\n            return null;\r\n        }\r\n        result.url += u + \"/\";\r\n    }\r\n    return result;\r\n}\n\nvar locationToString = function (loc) { return loc.pathname + loc.search + loc.hash; };\r\nvar locString = function (to) {\r\n    if (!to) {\r\n        return [\"#\", null];\r\n    }\r\n    if (typeof to === \"string\") {\r\n        return [to, null];\r\n    }\r\n    return [\"\" +\r\n            (to.pathname ? trimTrailingSlash(to.pathname) : \"\") +\r\n            (to.search ? (to.search[0] === \"?\" ? to.search : \"?\" + to.search) : \"\") +\r\n            (to.hash ? (to.hash[0] === \"#\" ? to.hash : \"#\" + to.hash) : \"\"), to.state];\r\n};\n\nvar jsxFactory = null;\r\n/** `Router` object that provides routing functionality to a `hyperoop` application */\r\nvar Router = /** @class */ (function () {\r\n    /** Constructor initializes `Router` with `rOwner` which is usually `hyperoop.Actions`\r\n     *  object and `jsxf` which is usually just `hyperoop.h`.\r\n     */\r\n    function Router(rOwner, jsxf) {\r\n        this.rOwner = rOwner;\r\n        this.loc = locationToString(window.location);\r\n        if (!jsxFactory) {\r\n            jsxFactory = jsxf;\r\n        }\r\n        this.subscribe();\r\n    }\r\n    /** Go to a new location. Argument can be a `string` URL or `IToObject` */\r\n    Router.prototype.go = function (t) {\r\n        var _a = locString(t), to = _a[0], state = _a[1];\r\n        if (to !== null && to !== locationToString(window.location)) {\r\n            history.pushState(state, \"\", to);\r\n        }\r\n    };\r\n    /** Stops a `Router` functionality, useful mainly for tests */\r\n    Router.prototype.stop = function () { };\r\n    Router.prototype.wrapHistory = function (keys) {\r\n        this.unwrapHistory = keys.reduce(function (next, key) {\r\n            var fn = history[key];\r\n            history[key] = function (data, title, url) {\r\n                fn.bind(history)(data, title, url);\r\n                dispatchEvent(new CustomEvent(\"pushstate\", { detail: data }));\r\n            };\r\n            return function () {\r\n                history[key] = fn;\r\n                if (next) {\r\n                    next();\r\n                }\r\n            };\r\n        }, null);\r\n    };\r\n    Router.prototype.unwrapHistory = function () { };\r\n    Router.prototype.subscribe = function () {\r\n        var self = this;\r\n        var handleLocationChange = function (e) {\r\n            var state = \"state\" in e ? e.state : e.detail;\r\n            var loc = locationToString(window.location);\r\n            if (self.loc !== loc) {\r\n                if (self.rOwner.onLocationChange) {\r\n                    self.rOwner.onLocationChange(state);\r\n                }\r\n                else {\r\n                    self.rOwner.Renderer.scheduleRender();\r\n                }\r\n                self.loc = loc;\r\n            }\r\n        };\r\n        this.wrapHistory([\"pushState\", \"replaceState\"]);\r\n        addEventListener(\"pushstate\", handleLocationChange);\r\n        addEventListener(\"popstate\", handleLocationChange);\r\n        this.stop = function () {\r\n            removeEventListener(\"pushstate\", handleLocationChange);\r\n            removeEventListener(\"popstate\", handleLocationChange);\r\n            self.unwrapHistory();\r\n        };\r\n    };\r\n    return Router;\r\n}());\n\nvar origin = function (loc) {\r\n    return loc.protocol + \"//\" + loc.hostname + (loc.port ? \":\" + loc.port : \"\");\r\n};\r\nvar isExternal = function (el) { return el && origin(window.location) !== origin(el); };\r\n/** `Link` component that provides application navigation */\r\nvar Link = function (a, children) {\r\n    return jsxFactory(\"a\", __assign({}, a, { href: locString(a.to)[0], onclick: function (e) {\r\n            var loc = window.location;\r\n            if (a.onclick) {\r\n                a.onclick(e);\r\n            }\r\n            if (e.defaultPrevented || e.button !== 0 ||\r\n                e.altKey || e.metaKey || e.ctrlKey || e.shiftKey ||\r\n                isExternal(e.currentTarget)) {\r\n                return;\r\n            }\r\n            if (a.to) {\r\n                e.preventDefault();\r\n                var _a = locString(a.to), to = _a[0], state = _a[1];\r\n                if (to !== null && to !== locationToString(window.location)) {\r\n                    history.pushState(state, \"\", to);\r\n                }\r\n            }\r\n        }, to: undefined }), children);\r\n};\n\n/** `Redirect` component. Rendering it will navigate to a new location */\r\nvar Redirect = function (a) {\r\n    history.replaceState(a.from || window.location.pathname, \"\", a.to);\r\n    return \"\";\r\n};\n\n/** `Route` component renders some UI when a location matches the path */\r\nvar Route = function (a) { return function () {\r\n    var loc = window.location;\r\n    var match = parseRoute(a.path, loc.pathname, a.exact);\r\n    if (!match) {\r\n        return null;\r\n    }\r\n    var c = a.component({ match: match }, []);\r\n    if (typeof c === \"function\") {\r\n        return c();\r\n    }\r\n    return c;\r\n}; };\n\n/** Renders the first child `Route` that matches the location. */\r\nvar Switch = function (a, children) { return function () {\r\n    for (var _i = 0, children_1 = children; _i < children_1.length; _i++) {\r\n        var c = children_1[_i];\r\n        var result = c && c();\r\n        if (result) {\r\n            return result;\r\n        }\r\n    }\r\n    return null;\r\n}; };\n\nexport { Link, Redirect, Route, Router, Switch };\n//# sourceMappingURL=router.es.js.map\n","\nexport const makeAPIReferenceFileName = (moduleName: string) => `${moduleName}_ref.json`;\nexport const tutorialAddr = \"#tutorial\";\nexport const donateAddr = \"#donate\";\nexport const makeAPIReferenceHash = (modName: string) => `#apiref-${modName}`;\nexport const makeAPIReferenceItemHash = (modName: string, name: string) =>\n    `${makeAPIReferenceHash(modName)}-${name}`;\n","import ITree from \"../../tools/documenter/tree\";\nimport * as misc from \"../utils/misc\";\n\nexport type IReferenceTree = ITree;\n\ntype TopLevelSections = \"Constants\" | \"Variables\" | \"Types\" | \"Interfaces\" | \"Functions\" | \"Classes\";\n\nexport const TopLevelSectionsOrder: TopLevelSections[] = [\n    \"Classes\", \"Functions\", \"Constants\", \"Variables\", \"Types\", \"Interfaces\"];\n\nexport type ITOC = {\n    [name in TopLevelSections]: string[];\n};\n\nexport type IndexingTable = {\n    [name in string]: number;\n};\n\nexport async function getAPIReference(name: string): Promise<IReferenceTree> {\n    const fileName = misc.makeAPIReferenceFileName(name);\n    return new Promise<IReferenceTree>((resolve) => {\n        return fetch(`built/data/${fileName}`).then((resp) => resolve(resp.json()));\n    });\n}\n\nexport function getTOC(tree: IReferenceTree): [ITOC, IndexingTable] {\n    if (!tree.children) { return null; }\n    const result: ITOC = {\n        Classes:    [],\n        Constants:  [],\n        Functions:  [],\n        Interfaces: [],\n        Types:      [],\n        Variables:  [],\n    };\n    for (const ch of tree.children) {\n        switch (ch.kind) {\n        case \"VariableStatement\":\n            if (ch.keyword && ch.keyword === \"const\") {\n                result.Constants.push(ch.name);\n            } else {\n                result.Variables.push(ch.name);\n            }\n            break;\n        case \"InterfaceDeclaration\":\n            result.Interfaces.push(ch.name);\n            break;\n        case \"TypeAliasDeclaration\":\n            result.Types.push(ch.name);\n            break;\n        case \"ClassDeclaration\":\n            result.Classes.push(ch.name);\n            break;\n        case \"FunctionDeclaration\":\n            result.Functions.push(ch.name);\n            break;\n        default:\n            throw new Error(`Mom, what is it ${ch.kind}?`);\n        }\n    }\n\n    for (const name in result) {\n        result[name] = result[name].sort();\n    }\n\n    const tab: IndexingTable = {};\n    let i = 1;\n    for (const name of TopLevelSectionsOrder) {\n        for (const ident of result[name]) {\n            tab[ident] = i;\n            i++;\n        }\n    }\n\n    return [result, tab];\n}\n","import * as ui from \"hyperoop\";\nimport { Router } from \"hyperoop-router\";\nimport {\n    getAPIReference,\n    getTOC,\n    IndexingTable,\n    IReferenceTree,\n    ITOC,\n    TopLevelSectionsOrder } from \"../model/apiref\";\nimport * as misc from \"../utils/misc\";\nimport { IAPIRefContentSectionInfo } from \"../view/apiref\";\nimport { ISidebarSectionInfo } from \"../view/sidebar\";\n\ninterface IModuleRefData {\n    tree: IReferenceTree;\n    toc:  ITOC;\n    tab:  IndexingTable;\n}\n\ntype APIRefData = {\n    [modName in string]: IModuleRefData;\n};\n\nexport interface IMainController {\n    loading(on: boolean);\n}\n\nexport class APIRefController {\n    public readonly Router: Router;\n    public readonly TOCCtrl: APIRefTOCController;\n    public readonly TreeCtrl: APIRefContentController;\n\n    private ready: APIRefData = {};\n    private fresh: boolean = true;\n\n    constructor(private mainCtrl: IMainController) {\n        this.Router = new Router(this, ui.h);\n        this.TreeCtrl = new APIRefContentController();\n        this.TOCCtrl = new APIRefTOCController(() => this.TreeCtrl.Renderer.scheduleRender());\n    }\n\n    get Fresh() { return this.fresh; }\n\n    public async onLocationChange(data: any) {\n        this.fresh = false;\n        const loc = window.location;\n        const hashRe = /\\#apiref\\-([a-zA-Z_][a-zA-Z0-9_]*)(\\-.*)?/;\n        const m = loc.hash.match(hashRe);\n        if (!m) { return; }\n        const modname = m[1];\n        if (modname in this.ready) {\n            this.setModule(modname);\n            return;\n        }\n        let tree: IReferenceTree = null;\n        try {\n            this.mainCtrl.loading(true);\n            tree = await getAPIReference(modname);\n        } finally {\n            this.mainCtrl.loading(false);\n        }\n        if (!tree) { return; }\n        const [toc, tab] = getTOC(tree);\n        this.ready[modname] = {\n            tab,\n            toc,\n            tree,\n        };\n        this.setModule(modname);\n    }\n\n    private setModule(modname: string) {\n        this.TOCCtrl.setTOC(modname, this.ready[modname].toc);\n        this.TreeCtrl.setTree(modname, this.ready[modname].tree, this.ready[modname].tab);\n    }\n}\n\ntype ContentItemKind =\n| \"Constant\"\n| \"Variable\"\n| \"Type\"\n| \"Interface\"\n| \"Function\"\n| \"Class\"\n| \"Property\"\n| \"Constructor\"\n| \"Method\";\n\nfunction getKind(ch: IReferenceTree): ContentItemKind {\n    switch (ch.kind) {\n        case \"VariableStatement\":\n            if (ch.keyword && ch.keyword === \"const\") {\n                return \"Constant\";\n            } else {\n                return \"Variable\";\n            }\n        case \"InterfaceDeclaration\":\n            return \"Interface\";\n        case \"TypeAliasDeclaration\":\n            return \"Type\";\n        case \"ClassDeclaration\":\n            return \"Class\";\n        case \"Constructor\":\n            return \"Constructor\";\n        case \"FunctionDeclaration\":\n            return \"Function\";\n        case \"MethodSignature\":\n        case \"MethodDeclaration\":\n            return \"Method\";\n        case \"PropertySignature\":\n        case \"PropertyDeclaration\":\n            return \"Property\";\n        default:\n            throw new Error(`Mom, what is it ${ch.kind}?`);\n        }\n}\n\ntype ILinks = {\n    [name in string]: string;\n};\n\nfunction makeAPIRefContentSections(\n    tree: IReferenceTree,\n    modname: string,\n    links: ILinks,\n    s: IAPIRefContentSectionInfo[] = [],\n    prefix: string = null): IAPIRefContentSectionInfo[] {\n\n    for (const ch of tree.children) {\n        const kind = getKind(ch);\n        let name = kind === \"Constructor\" ? \"\" : ch.name;\n        if (prefix && kind !== \"Constructor\") { name = `${prefix}.${name}`; }\n        const sInfo: IAPIRefContentSectionInfo = {\n            comment: ch.commentText,\n            decl: ch.decl,\n            hash: prefix ? undefined : `#apiref-${modname}-${name}`,\n            kind,\n            links,\n            name,\n        };\n\n        if (ch.children && ch.children.length) {\n            sInfo.subSections = [];\n            makeAPIRefContentSections(ch, modname, links, sInfo.subSections, name);\n        }\n        s.push(sInfo);\n    }\n    return s;\n}\n\ninterface IAPIRefContentData {\n    modName: string;\n    tree: IReferenceTree;\n    sections: IAPIRefContentSectionInfo[];\n}\n\nexport class APIRefContentController extends ui.Actions<IAPIRefContentData> {\n    constructor(private links: ILinks = {}) {\n        super({\n            modName: \"\",\n            sections: [],\n            tree: {} as IReferenceTree,\n        });\n    }\n\n    public async setTree(modname: string, tree: IReferenceTree, tab: IndexingTable) {\n        tree.children = tree.children.sort((a, b) => tab[a.name] - tab[b.name]);\n        this.set({\n            modName: modname,\n            sections: makeAPIRefContentSections(tree, modname, this.links),\n            tree,\n        });\n    }\n}\n\nfunction makeSidebarSections(modName: string, toc: ITOC, refreshContent: () => void): ISidebarSectionInfo[] {\n    const result: ISidebarSectionInfo[] = [];\n    for (const sectName of TopLevelSectionsOrder) {\n        const tocItems = toc[sectName];\n        if (tocItems.length < 1) {\n            continue;\n        }\n        const info: ISidebarSectionInfo = {\n            items: tocItems.map((name) =>\n                ({\n                    active: false,\n                    hash: misc.makeAPIReferenceItemHash(modName, name),\n                    refreshContent,\n                    title: name,\n                })),\n            section: { title: sectName },\n        };\n        result.push(info);\n    }\n    return result;\n}\n\ninterface IAPIRefTOCData {\n    toc:      ITOC;\n    sections: ISidebarSectionInfo[];\n}\n\nexport class APIRefTOCController extends ui.Actions<IAPIRefTOCData> {\n    constructor(private refreshContent: () => void) {\n        super({\n            sections: [],\n            toc: {} as ITOC,\n        });\n    }\n\n    public async setTOC(modName: string, toc: ITOC) {\n        this.set({toc, sections: makeSidebarSections(modName, toc, this.refreshContent)});\n    }\n}\n","import * as ui from \"hyperoop\";\nimport { IMainController } from \"./apiref\";\n\nexport class MainController extends ui.Actions<{loading: number}> implements IMainController {\n    constructor() {\n        super({loading: 0});\n    }\n    public loading(on: boolean) {\n        this.State.loading += on ? 1 : -1;\n    }\n}\n","import * as ui from \"hyperoop\";\nimport { Router } from \"hyperoop-router\";\nimport * as misc from \"../utils/misc\";\nimport { INavbarLiArgs } from \"../view/navbar\";\n\ninterface INavbarData {\n    apiModNames: string[];\n    apirefData: INavbarLiArgs[];\n}\n\nfunction makeNavbarReferenceArgs(apiModNames: string[]): INavbarLiArgs[] {\n    const result: INavbarLiArgs[] = [];\n    for (const modName of apiModNames) {\n        result.push({title: modName, hash: misc.makeAPIReferenceHash(modName)});\n    }\n    return result;\n}\n\nexport class NavbarController extends ui.Actions<INavbarData> {\n    public readonly Router: Router;\n\n    constructor(apiModNames: string[]) {\n        super({\n            apiModNames,\n            apirefData: makeNavbarReferenceArgs(apiModNames),\n        });\n        this.Router = new Router(this, ui.h);\n    }\n}\n","import * as ui from \"hyperoop\";\n\nexport interface IHashMatch {\n    isExact:     boolean;\n    hashPattern: string;\n    hashMatch:   string;\n    params?: {\n        [K in string]: string\n    };\n}\n\nconst decodeParam = (val: string): string => {\n    try {\n        return decodeURIComponent(val);\n    } catch {\n        return val;\n    }\n};\n\nfunction parseHRoute(hashPattern: string, hashMatch: string, exact: boolean): IHashMatch {\n    if (hashPattern === hashMatch || !hashPattern) {\n        return { isExact: hashPattern === hashMatch, hashPattern, hashMatch };\n    }\n\n    const parts = hashPattern.slice(1).split(\"-\");\n    const mparts = hashMatch.slice(1).split(\"-\");\n\n    if (exact && parts.length !== mparts.length) {\n        return null;\n    }\n\n    const result: IHashMatch = {\n        hashMatch: \"#\",\n        hashPattern,\n        isExact: false,\n        params: {},\n    };\n\n    const plen = parts.length;\n    const mlen = mparts.length;\n    for (let i = 0; i < plen && i < mlen; i++) {\n        let [p, u] = [parts[i], mparts[i]];\n        if (\":\" === p[0]) {\n            p = p.slice(1);\n            result.params[p] = u = decodeParam(u);\n        } else if (p !== u) {\n            return null;\n        }\n        result.hashMatch += u + \"-\";\n    }\n    result.hashMatch = result.hashMatch.slice(0, -1);\n    return result;\n}\n\nexport interface IHTargetAttributes {\n    match: IHashMatch;\n}\n\nexport type HTargetComponent = ui.Component<IHTargetAttributes>;\n\nexport interface IHRouteAttributes {\n    hash:      string;\n    exact:     boolean;\n    component: HTargetComponent;\n}\n\nexport const HRoute: ui.Component<IHRouteAttributes> = (a: IHRouteAttributes) => () => {\n    const loc = window.location;\n    const match = parseHRoute(a.hash, loc.hash, a.exact);\n    if (!match) { return null; }\n    const c = a.component({match}, []);\n    if (typeof c === \"function\") {\n        const x = c();\n        return c(); }\n    return c;\n};\n","var COMPLETE = 'complete',\n    CANCELED = 'canceled';\n\nfunction raf(task){\n    if('requestAnimationFrame' in window){\n        return window.requestAnimationFrame(task);\n    }\n\n    setTimeout(task, 16);\n}\n\nfunction setElementScroll(element, x, y){\n    if(element.self === element){\n        element.scrollTo(x, y);\n    }else{\n        element.scrollLeft = x;\n        element.scrollTop = y;\n    }\n}\n\nfunction getTargetScrollLocation(target, parent, align){\n    var targetPosition = target.getBoundingClientRect(),\n        parentPosition,\n        x,\n        y,\n        differenceX,\n        differenceY,\n        targetWidth,\n        targetHeight,\n        leftAlign = align && align.left != null ? align.left : 0.5,\n        topAlign = align && align.top != null ? align.top : 0.5,\n        leftOffset = align && align.leftOffset != null ? align.leftOffset : 0,\n        topOffset = align && align.topOffset != null ? align.topOffset : 0,\n        leftScalar = leftAlign,\n        topScalar = topAlign;\n\n    if(parent.self === parent){\n        targetWidth = Math.min(targetPosition.width, parent.innerWidth);\n        targetHeight = Math.min(targetPosition.height, parent.innerHeight);\n        x = targetPosition.left + parent.pageXOffset - parent.innerWidth * leftScalar + targetWidth * leftScalar;\n        y = targetPosition.top + parent.pageYOffset - parent.innerHeight * topScalar + targetHeight * topScalar;\n        x -= leftOffset;\n        y -= topOffset;\n        differenceX = x - parent.pageXOffset;\n        differenceY = y - parent.pageYOffset;\n    }else{\n        targetWidth = targetPosition.width;\n        targetHeight = targetPosition.height;\n        parentPosition = parent.getBoundingClientRect();\n        var offsetLeft = targetPosition.left - (parentPosition.left - parent.scrollLeft);\n        var offsetTop = targetPosition.top - (parentPosition.top - parent.scrollTop);\n        x = offsetLeft + (targetWidth * leftScalar) - parent.clientWidth * leftScalar;\n        y = offsetTop + (targetHeight * topScalar) - parent.clientHeight * topScalar;\n        x = Math.max(Math.min(x, parent.scrollWidth - parent.clientWidth), 0);\n        y = Math.max(Math.min(y, parent.scrollHeight - parent.clientHeight), 0);\n        x -= leftOffset;\n        y -= topOffset;\n        differenceX = x - parent.scrollLeft;\n        differenceY = y - parent.scrollTop;\n    }\n\n    return {\n        x: x,\n        y: y,\n        differenceX: differenceX,\n        differenceY: differenceY\n    };\n}\n\nfunction animate(parent){\n    var scrollSettings = parent._scrollSettings;\n    if(!scrollSettings){\n        return;\n    }\n\n    var location = getTargetScrollLocation(scrollSettings.target, parent, scrollSettings.align),\n        time = Date.now() - scrollSettings.startTime,\n        timeValue = Math.min(1 / scrollSettings.time * time, 1);\n\n    if(\n        time > scrollSettings.time &&\n        scrollSettings.endIterations > 3\n    ){\n        setElementScroll(parent, location.x, location.y);\n        parent._scrollSettings = null;\n        return scrollSettings.end(COMPLETE);\n    }\n\n    scrollSettings.endIterations++;\n\n    var easeValue = 1 - scrollSettings.ease(timeValue);\n\n    setElementScroll(parent,\n        location.x - location.differenceX * easeValue,\n        location.y - location.differenceY * easeValue\n    );\n\n    // At the end of animation, loop synchronously\n    // to try and hit the taget location.\n    if(time >= scrollSettings.time){\n        return animate(parent);\n    }\n\n    raf(animate.bind(null, parent));\n}\nfunction transitionScrollTo(target, parent, settings, callback){\n    var idle = !parent._scrollSettings,\n        lastSettings = parent._scrollSettings,\n        now = Date.now(),\n        endHandler;\n\n    if(lastSettings){\n        lastSettings.end(CANCELED);\n    }\n\n    function end(endType){\n        parent._scrollSettings = null;\n        if(parent.parentElement && parent.parentElement._scrollSettings){\n            parent.parentElement._scrollSettings.end(endType);\n        }\n        callback(endType);\n        parent.removeEventListener('touchstart', endHandler, { passive: true });\n    }\n\n    parent._scrollSettings = {\n        startTime: lastSettings ? lastSettings.startTime : Date.now(),\n        endIterations: 0,\n        target: target,\n        time: settings.time + (lastSettings ? now - lastSettings.startTime : 0),\n        ease: settings.ease,\n        align: settings.align,\n        end: end\n    };\n\n    endHandler = end.bind(null, CANCELED);\n    parent.addEventListener('touchstart', endHandler, { passive: true });\n\n    if(idle){\n        animate(parent);\n    }\n}\n\nfunction defaultIsScrollable(element){\n    return (\n        'pageXOffset' in element ||\n        (\n            element.scrollHeight !== element.clientHeight ||\n            element.scrollWidth !== element.clientWidth\n        ) &&\n        getComputedStyle(element).overflow !== 'hidden'\n    );\n}\n\nfunction defaultValidTarget(){\n    return true;\n}\n\nmodule.exports = function(target, settings, callback){\n    if(!target){\n        return;\n    }\n\n    if(typeof settings === 'function'){\n        callback = settings;\n        settings = null;\n    }\n\n    if(!settings){\n        settings = {};\n    }\n\n    settings.time = isNaN(settings.time) ? 1000 : settings.time;\n    settings.ease = settings.ease || function(v){return 1 - Math.pow(1 - v, v / 2);};\n\n    var parent = target.parentElement,\n        parents = 0;\n\n    function done(endType){\n        parents--;\n        if(!parents){\n            callback && callback(endType);\n        }\n    }\n\n    var validTarget = settings.validTarget || defaultValidTarget;\n    var isScrollable = settings.isScrollable;\n\n    while(parent){\n        if(validTarget(parent, parents) && (isScrollable ? isScrollable(parent, defaultIsScrollable) : defaultIsScrollable(parent))){\n            parents++;\n            transitionScrollTo(target, parent, settings, done);\n        }\n\n        parent = parent.parentElement;\n\n        if(!parent){\n            return;\n        }\n\n        if(parent.tagName === 'BODY'){\n            parent = parent.ownerDocument;\n            parent = parent.defaultView || parent.ownerWindow;\n        }\n    }\n};\n","import * as ui from \"hyperoop\";\nimport { Link } from \"hyperoop-router\";\n\nexport interface ISidebarSectionLiArgs {\n    title: string;\n}\n\nexport const SidebarSectionLi = (a: ISidebarSectionLiArgs) => (\n    <li class=\"uk-nav-header\">{a.title}</li>\n);\n\nexport interface ISidebarLiArgs {\n    active: boolean;\n    title:  string;\n    hash:   string;\n\n    refreshContent: () => void;\n}\n\nexport const SidebarLi = (a: ISidebarLiArgs) => {\n    return a.active ?\n        <li class=\"uk-active\"><Link to={\"./\" + a.hash} onclick={a.refreshContent}>{a.title}</Link></li>\n        :\n        <li><Link to={\"./\" + a.hash}>{a.title}</Link></li>;\n};\n\nexport interface ISidebarSectionInfo {\n    section: ISidebarSectionLiArgs;\n    items:   ISidebarLiArgs[];\n}\n\nexport interface ISidebarDivArgs {\n    activeHash: string;\n    title: string;\n    sections: ISidebarSectionInfo[];\n}\n\nconst makeSection = (info: ISidebarSectionInfo, activeHash: string): ui.IVirtualNode[] => {\n    const result: ui.IVirtualNode[] = [SidebarSectionLi(info.section)];\n    return result.concat(info.items.map((item) => (\n        <SidebarLi {...{...item, active: item.hash === activeHash}}/>\n    )));\n};\n\nexport const SideBar = (a: ISidebarDivArgs) => (\n    <div key=\"Sidebar\" class=\"ho-sidebar-left uk-visible@m\">\n        <h4 class=\"ho-h4\" key=\"SidebarTitle\">{a.title}</h4>\n        <ul class=\"uk-nav uk-nav-default\" key=\"SidebarUl\">\n            {a.sections.map((info) => makeSection(info, a.activeHash)) }\n        </ul>\n    </div>\n);\n","import * as ui from \"hyperoop\";\nimport scrollIntoView from \"scroll-into-view\";\nimport { IHTargetAttributes } from \"../utils/hroute\";\nimport { ISidebarSectionInfo, SideBar } from \"./sidebar\";\n\ndeclare interface IPrism {\n    languages: {[name in string]: any};\n    highlight(text: string, grammar: any, language: string): string;\n}\n\ndeclare const Prism: IPrism;\n\nexport const APIRefSidebar = (info: ISidebarSectionInfo[]) => (a: IHTargetAttributes) => (\n    <SideBar\n        title = { \"module\" in a.match.params ? `${a.match.params.module} API` : null }\n        sections = { \"module\" in a.match.params ? info : null }\n        activeHash = { a.match.hashMatch }\n    />\n);\n\nexport interface IAPIRefContentSectionInfo {\n    kind:    string;\n    name:    string;\n    decl:    string;\n    comment: string;\n    links:   {[name in string]: string};\n    hash?:   string;\n\n    subSections?: IAPIRefContentSectionInfo[];\n}\n\ndeclare function marked(txt: string, options: { sanitize: boolean}): string;\n\nconst onCreateContentSection = (a: IAPIRefContentSectionInfo) => (el) => {\n    if (a.hash === window.location.hash) { scrollIntoView(el, { align: { top: 0, topOffset: 90 } as any }); }\n};\n\nconst onCreateMarkdownSection = (a: {comment: string}) => (el) => {\n    el.innerHTML = marked(a.comment, { sanitize: true });\n};\n\nconst highlightCode = (text: string) => (el) => {\n    const lang = \"tsx\";\n    el.innerHTML = Prism.highlight(text, Prism.languages[lang], lang);\n};\n\nconst Code = (a: {decl: string}) => (\n    <pre style=\"margin-left: 20px\">\n        <code\n            oncreate = {highlightCode(a.decl)}\n            onupdate = {highlightCode(a.decl)}\n        >\n        </code>\n    </pre>\n);\n\nconst Comment = (a: {comment: string}) => (\n    <p\n        oncreate = {onCreateMarkdownSection(a)}\n        onupdate = {onCreateMarkdownSection(a)}\n        style = \"margin-left: 20px\"\n    >\n    </p>\n);\n\nexport const APIRefContentMajorSection = (a: IAPIRefContentSectionInfo) => (\n    <div onupdate={onCreateContentSection(a)} class=\"ho-content-section\">\n        <h4\n            class={a.hash === window.location.hash ?\n                \"ho-major-content-active-header\" : \"ho-major-content-header\"}\n        >\n            {a.kind + \" \"}\n            <a href={a.hash}>\n                <span class=\"ho-header-identifier\">{a.name}</span>\n            </a>\n        </h4>\n        <Code decl = {a.decl}/>\n        <Comment comment = {a.comment}/>\n        { a.subSections && a.subSections.length ?\n            [\n                <h5 class=\"ho-minor-content-header\">\n                    {\n                        a.kind === \"Class\" ? \"Members\" :\n                            a.kind === \"Interface\" ? \"Properties\" : \"\"\n                    }\n                </h5>,\n                ...a.subSections.map((x) => <APIRefContentSection {...x}/>),\n            ]\n            :\n            \"\" }\n    </div>\n);\n\nexport const APIRefContentSection = (a: IAPIRefContentSectionInfo) => (\n    <div class=\"ho-content-section\">\n        {/*<h4 class=\"ho-content-header\">\n            {a.kind.toLowerCase() + \" \"}<span class=\"ho-header-identifier\">{a.name}</span>\n        </h4>*/}\n        <Code decl = {a.decl}/>\n        <Comment comment = {a.comment}/>\n    </div>\n);\n\nexport const APIRefContent = (a: {version?: string, module: string, sections: IAPIRefContentSectionInfo[]}) => (\n    <div onupdate={(el) => {\n        if (window.location.hash.split(\"-\").length < 3) {\n            scrollIntoView(el, { align: { topOffset: 200 } as any });\n        }\n    }}>\n        <h3 class=\"ho-h4\" style=\"margin-bottom: 60px\">\n            {a.module} API {\n                a.version ?\n                    <span class=\"uk-text-small\" style=\"position: relative; top: 5px; color: #999\">\n                        {`version ${a.version}`}, <a href=\"https://www.typescriptlang.org/\">TypeScript</a>\n                    </span>\n                    :\n                    \"\"\n            }\n        </h3>\n        { a.sections.map((x) => <APIRefContentMajorSection {...x}/>) }\n    </div>\n);\n","import * as ui from \"hyperoop\";\nimport { Link } from \"hyperoop-router\";\nimport * as misc from \"../utils/misc\";\n\nexport interface INavbarDropdownLiArgs {\n    title:    string;\n    visible?: string;\n    hidden?:  string;\n}\n\nexport const NavbarDropdownLi = (a: INavbarDropdownLiArgs, children) => (\n    <li class={a.visible ? `uk-visible@${a.visible}` : \"\"}>\n        <a href=\"#\">{a.title}</a>\n        <div class=\"uk-navbar-dropdown\">\n            <ul class=\"uk-nav uk-navbar-dropdown-nav\">\n            { children }\n            </ul>\n        </div>\n    </li>\n);\n\nexport const NavbarDropdownIconLi = (a: INavbarDropdownLiArgs, children) => (\n    <li\n        class = {\n            a.visible ? `uk-visible@${a.visible} ` : \"\" +\n            a.hidden ? `uk-hidden@${a.hidden}` : \"\"\n        }\n    >\n        <a href=\"#\" class=\"uk-icon-link\" uk-icon={a.title}></a>\n        <div class=\"uk-navbar-dropdown\">\n            <ul class=\"uk-nav uk-navbar-dropdown-nav\">\n            { children }\n            </ul>\n        </div>\n    </li>\n);\n\nexport interface INavbarLiArgs {\n    title:    string;\n    hash:     string;\n    visible?: string;\n}\n\nexport const NavbarLi = (a: INavbarLiArgs) => (\n    <li class={a.visible ? `uk-visible@${a.visible}` : \"\"}>\n        <Link to={a.hash}>{a.title}</Link>\n    </li>\n);\n\nexport interface INavbarSearchLiArgs {\n    onSearchInput:  (input: string) => void;\n    onSearch:       () => void;\n    searchValue:    string;\n    visible?:       string;\n}\n\nexport const NavbarSearchLi = (a: INavbarSearchLiArgs) => (\n    <li class={a.visible ? `uk-visible@${a.visible}` : \"\"}>\n        <div class=\"uk-navbar-item\">\n            <form class=\"uk-search uk-search-navbar\">\n                <span uk-search-icon class=\"ho-scaled-search-icon\"></span>\n                <input class=\"uk-search-input\" type=\"search\"\n                    onkeyup = {(e) => (e.keyCode === 13 ? a.onSearch() : \"\")}\n                    oninput = {(e) => a.onSearchInput(e.target.value)}\n                    value   = {a.searchValue}\n                />\n            </form>\n        </div>\n    </li>\n);\n\nexport interface INavbarArgs {\n    searchArgs:       INavbarSearchLiArgs;\n    hasTutorial:      boolean;\n    hasDonationsPage: boolean;\n    reference:        INavbarLiArgs[];\n    examples:         INavbarLiArgs[];\n}\n\nexport const NavbarMenuUl = (a: INavbarArgs) => (\n    <ul class=\"uk-navbar-nav\">\n        { a.searchArgs ?\n            <NavbarSearchLi\n                onSearchInput={a.searchArgs.onSearchInput}\n                onSearch={a.searchArgs.onSearch}\n                searchValue={a.searchArgs.searchValue}\n                visible=\"m\"\n            /> : \"\"}\n        { a.hasTutorial ? <NavbarLi title=\"Tutorial\" hash={misc.tutorialAddr} visible=\"m\"/> : \"\" }\n        { a.reference.length ?\n                <NavbarDropdownLi title=\"API Reference\" visible=\"m\">\n                    { a.reference.map(({title, hash}) =>\n                            <NavbarLi title={title} hash={hash}/>) }\n                </NavbarDropdownLi> :\n                \"\" }\n        { a.examples.length ?\n                <NavbarDropdownLi title=\"Examples\" visible=\"m\">\n                    { a.examples.map(({title, hash}) =>\n                            <NavbarLi title={title} hash={hash}/>) }\n                </NavbarDropdownLi> :\n                \"\" }\n        { a.hasDonationsPage ? <NavbarLi title=\"Donate\" hash={misc.donateAddr} visible=\"m\"/> : \"\" }\n        <li class=\"uk-visible@m\">\n            <a\n                href=\"https://github.com/algebraic-brain/hyperoop/\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                class=\"uk-icon-link\"\n                uk-icon=\"github\"\n            ></a>\n        </li>\n        <li class=\"uk-visible@m\">\n            <a\n                href=\"https://gitter.im/hyper-oop\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                class=\"uk-icon-link\"\n                uk-icon=\"gitter\"\n            ></a>\n        </li>\n        <NavbarDropdownIconLi title=\"table\" hidden=\"m\">\n            <li class=\"uk-nav-header\">API</li>\n            { a.reference.map(({title, hash}) =>\n                            <NavbarLi title={title} hash={hash}/>) }\n            <li class=\"uk-nav-header\">Community</li>\n            <li>\n                <a\n                    href=\"https://github.com/algebraic-brain/hyperoop/\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                >\n                    <span uk-icon=\"icon: github; ratio: 0.8\"> </span> GitHub\n                </a>\n            </li>\n            <li>\n                <a\n                    href=\"https://gitter.im/hyper-oop\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                >\n                    <span uk-icon=\"icon: gitter; ratio: 0.8\"> </span> Gitter\n                </a>\n            </li>\n        </NavbarDropdownIconLi>\n    </ul>\n);\n","import \"promise-polyfill/src/polyfill\";\nimport \"whatwg-fetch\";\n\nimport * as ui from \"hyperoop\";\nimport { APIRefController } from \"./controller/apiref\";\nimport { MainController} from \"./controller/main\";\nimport { NavbarController } from \"./controller/navbar\";\nimport { HRoute } from \"./utils/hroute\";\nimport { APIRefContent, APIRefSidebar } from \"./view/apiref\";\nimport { NavbarMenuUl } from \"./view/navbar\";\n\nasync function main() {\n    const mainController = new MainController();\n    const apirefController = new APIRefController(mainController);\n    const navbarController = new NavbarController([\"HyperOOP\", \"Router\", \"RedoUndo\"]);\n\n    apirefController.Router.go(\"./#apiref-HyperOOP\");\n    if (apirefController.Fresh) { await apirefController.onLocationChange(null); }\n\n    const navbarView = () => (\n        <NavbarMenuUl\n            hasTutorial={false}\n            hasDonationsPage={false}\n            examples={[]}\n            reference={navbarController.State.apirefData}\n            searchArgs = {null}\n        />\n    );\n\n    const apiSidebarView = () => (\n        <HRoute\n            exact = {false}\n            hash = \"#apiref-:module-:identifier\"\n            component = {APIRefSidebar(apirefController.TOCCtrl.State.sections)}/>\n    );\n\n    const apiRefContentView = () => (\n        <APIRefContent\n            version = {apirefController.TreeCtrl.State.tree.version}\n            module = {apirefController.TreeCtrl.State.modName}\n            sections = {apirefController.TreeCtrl.State.sections}\n        />\n    );\n\n    ui.init(document.getElementById(\"navbarPlace\"), navbarView, navbarController);\n    ui.init(document.getElementById(\"sidebarPlace\"), apiSidebarView, apirefController.TOCCtrl);\n    ui.init(document.getElementById(\"contentPlace\"), apiRefContentView, apirefController.TreeCtrl);\n}\n\nmain();\n"],"names":["finallyConstructor","callback","constructor","this","then","value","resolve","reason","reject","setTimeoutFunc","setTimeout","noop","Promise","fn","TypeError","_state","_handled","_value","undefined","_deferreds","doResolve","handle","self","deferred","_immediateFn","cb","onFulfilled","onRejected","ret","e","promise","push","newValue","finale","thisArg","apply","arguments","length","_unhandledRejectionFn","i","len","Handler","done","ex","prototype","prom","promiseFinally","all","arr","args","Array","slice","call","remaining","res","val","race","values","setImmediate","err","console","warn","globalNS","window","global","Error","exports","support","searchParams","iterable","Symbol","blob","Blob","formData","arrayBuffer","viewClasses","isArrayBufferView","ArrayBuffer","isView","obj","indexOf","Object","toString","normalizeName","name","String","test","toLowerCase","normalizeValue","iteratorFor","items","iterator","next","shift","Headers","headers","map","forEach","append","isArray","header","getOwnPropertyNames","consumed","body","bodyUsed","fileReaderReady","reader","onload","result","onerror","error","readBlobAsArrayBuffer","FileReader","readAsArrayBuffer","bufferClone","buf","view","Uint8Array","byteLength","set","buffer","Body","_initBody","_bodyInit","_bodyText","isPrototypeOf","_bodyBlob","FormData","_bodyFormData","URLSearchParams","DataView","_bodyArrayBuffer","get","type","rejected","text","readAsText","chars","fromCharCode","join","readArrayBufferAsText","decode","json","JSON","parse","oldValue","has","hasOwnProperty","keys","entries","methods","Request","input","options","method","upcased","url","credentials","mode","signal","toUpperCase","referrer","form","trim","split","bytes","replace","decodeURIComponent","Response","bodyInit","status","ok","statusText","clone","response","redirectStatuses","redirect","RangeError","location","DOMException","message","stack","create","fetch","init","request","aborted","xhr","XMLHttpRequest","abortXhr","abort","rawHeaders","getAllResponseHeaders","line","parts","key","responseURL","responseText","ontimeout","onabort","open","withCredentials","responseType","setRequestHeader","addEventListener","onreadystatechange","readyState","removeEventListener","send","polyfill","defineProperty","factory","h","attributes","rest","_i","ch","reverse","nod","pop","children","nodeName","extendStatics","d","b","setPrototypeOf","__proto__","p","Actions","start","hist","orig","History","scheduleRender","state","enumerable","configurable","remember","renderer","s","_this","from","filter","k","was_1","wasnt_1","keys_1","add","Redo","keys_3","Undo","wasnt_2","_a","keys_2","r","target","after","Proxy","t","v","deleteProperty","was","oldVal","makeH","_super","SubActions","parent","Renderer","__","__extends","isVNode","n","source","out","resolveNode","node","getKey","eventListener","event","currentTarget","events","specialAttrNames","draggable","list","spellcheck","translate","updateAttribute","element","isSvg","style","cssText","setProperty","updateStyle","updateEventProperty","setAttribute","removeAttribute","removeElement","removeChild","removeChildren","childNodes","ondestroy","onremove","container","action","skipRender","isRecycling","lifecycle","rootElement","oldNode","elementToVNode","el","nodeType","nodeValue","render","patch","bind","createElement","document","createTextNode","createElementNS","attributes_1","oncreate","appendChild","name_1","updateElement","oldAttributes","name_2","onupdate","patchNewNode","newElement","insertBefore","patchChildren","oldKeyed","newKeyed","oldElements","oldChildren","j","oldKey","newKey","keyedNode","__assign","assign","locationToString","loc","pathname","search","hash","locString","to","x","jsxFactory","Router","rOwner","jsxf","subscribe","go","history","pushState","stop","wrapHistory","unwrapHistory","reduce","data","title","dispatchEvent","CustomEvent","detail","handleLocationChange","onLocationChange","origin","protocol","hostname","port","Link","a","href","onclick","defaultPrevented","button","altKey","metaKey","ctrlKey","shiftKey","preventDefault","makeAPIReferenceFileName","moduleName","makeAPIReferenceHash","modName","makeAPIReferenceItemHash","TopLevelSectionsOrder","getAPIReference","fileName","misc.makeAPIReferenceFileName","resp","mainCtrl","ui.h","TreeCtrl","APIRefContentController","TOCCtrl","APIRefTOCController","APIRefController","fresh","hashRe","m","match","modname","ready","setModule","tree","loading","_b","Classes","Constants","Functions","Interfaces","Types","Variables","kind","keyword","sort","tab","TopLevelSectionsOrder_1","_d","_c","getTOC","toc","setTOC","setTree","getKind","makeAPIRefContentSections","links","prefix","sInfo","comment","commentText","decl","subSections","sections","tslib_1.__extends","ui.Actions","makeSidebarSections","refreshContent","sectName","tocItems","info","active","misc.makeAPIReferenceItemHash","section","MainController","on","State","makeNavbarReferenceArgs","apiModNames","apiModNames_1","misc.makeAPIReferenceHash","apirefData","decodeParam","HRoute","hashPattern","hashMatch","exact","isExact","mparts","params","plen","mlen","u","parseHRoute","c","component","COMPLETE","CANCELED","setElementScroll","y","scrollTo","scrollLeft","scrollTop","animate","scrollSettings","_scrollSettings","align","parentPosition","differenceX","differenceY","targetWidth","targetHeight","targetPosition","getBoundingClientRect","leftAlign","left","topAlign","top","leftOffset","topOffset","leftScalar","topScalar","Math","min","width","innerWidth","height","innerHeight","pageXOffset","pageYOffset","offsetLeft","offsetTop","clientWidth","clientHeight","max","scrollWidth","scrollHeight","getTargetScrollLocation","time","Date","now","startTime","timeValue","endIterations","end","easeValue","ease","task","requestAnimationFrame","raf","transitionScrollTo","settings","endHandler","idle","lastSettings","endType","parentElement","passive","defaultIsScrollable","getComputedStyle","overflow","defaultValidTarget","isNaN","pow","parents","validTarget","isScrollable","tagName","ownerDocument","defaultView","ownerWindow","SidebarLi","class","SideBar","activeHash","concat","item","makeSection","APIRefSidebar","module","onCreateContentSection","scrollIntoView","onCreateMarkdownSection","innerHTML","marked","sanitize","highlightCode","Prism","highlight","languages","Code","Comment","APIRefContentMajorSection","APIRefContentSection","APIRefContent","version","NavbarDropdownLi","visible","NavbarDropdownIconLi","hidden","NavbarLi","NavbarSearchLi","onkeyup","keyCode","onSearch","oninput","onSearchInput","searchValue","NavbarMenuUl","searchArgs","hasTutorial","reference","examples","hasDonationsPage","rel","mainController","apirefController","navbarController","NavbarController","Fresh","navbarView","apiSidebarView","apiRefContentView","ui.init","getElementById","main"],"mappings":"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"}