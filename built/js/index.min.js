!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t():"function"==typeof define&&define.amd?define(t):t()}(0,function(){"use strict";var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function c(i,a,s,u){return new(s||(s=Promise))(function(e,t){function n(e){try{o(u.next(e))}catch(e){t(e)}}function r(e){try{o(u.throw(e))}catch(e){t(e)}}function o(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(n,r)}o((u=u.apply(i,a||[])).next())})}function l(n,r){var o,i,a,e,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=2&t[0]?i.return:t[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,t[1])).done)return a;switch(i=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,i=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=r.call(n,s)}catch(e){t=[6,e],i=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}function e(t){var n=this.constructor;return this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){return n.reject(e)})})}var t=setTimeout;function a(){}function s(e){if(!(this instanceof s))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],y(e,this)}function u(n,r){for(;3===n._state;)n=n._value;0!==n._state?(n._handled=!0,s._immediateFn(function(){var e=1===n._state?r.onFulfilled:r.onRejected;if(null!==e){var t;try{t=e(n._value)}catch(e){return void f(r.promise,e)}h(r.promise,t)}else(1===n._state?h:f)(r.promise,n._value)})):n._deferreds.push(r)}function h(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof s)return t._state=3,t._value=e,void d(t);if("function"==typeof n)return void y((r=n,o=e,function(){r.apply(o,arguments)}),t)}t._state=1,t._value=e,d(t)}catch(e){f(t,e)}var r,o}function f(e,t){e._state=2,e._value=t,d(e)}function d(e){2===e._state&&0===e._deferreds.length&&s._immediateFn(function(){e._handled||s._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)u(e,e._deferreds[t]);e._deferreds=null}function p(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function y(e,t){var n=!1;try{e(function(e){n||(n=!0,h(t,e))},function(e){n||(n=!0,f(t,e))})}catch(e){if(n)return;n=!0,f(t,e)}}s.prototype.catch=function(e){return this.then(null,e)},s.prototype.then=function(e,t){var n=new this.constructor(a);return u(this,new p(e,t,n)),n},s.prototype.finally=e,s.all=function(t){return new s(function(r,o){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var i=Array.prototype.slice.call(t);if(0===i.length)return r([]);var a=i.length;function s(t,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void n.call(e,function(e){s(t,e)},o)}i[t]=e,0==--a&&r(i)}catch(e){o(e)}}for(var e=0;e<i.length;e++)s(e,i[e])})},s.resolve=function(t){return t&&"object"==typeof t&&t.constructor===s?t:new s(function(e){e(t)})},s.reject=function(n){return new s(function(e,t){t(n)})},s.race=function(o){return new s(function(e,t){for(var n=0,r=o.length;n<r;n++)o[n].then(e,t)})},s._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){t(e,0)},s._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console};var n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();"Promise"in n?n.Promise.prototype.finally||(n.Promise.prototype.finally=e):n.Promise=s;"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var v,m,b=(function(e,t){!function(s){var u={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(u.arrayBuffer)var t=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],n=ArrayBuffer.isView||function(e){return e&&-1<t.indexOf(Object.prototype.toString.call(e))};function r(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function o(e){return"string"!=typeof e&&(e=String(e)),e}function e(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return u.iterable&&(e[Symbol.iterator]=function(){return e}),e}function c(t){this.map={},t instanceof c?t.forEach(function(e,t){this.append(t,e)},this):Array.isArray(t)?t.forEach(function(e){this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function i(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function a(n){return new Promise(function(e,t){n.onload=function(){e(n.result)},n.onerror=function(){t(n.error)}})}function l(e){var t=new FileReader,n=a(t);return t.readAsArrayBuffer(e),n}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(e){var t;(this._bodyInit=e)?"string"==typeof e?this._bodyText=e:u.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:u.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:u.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():u.arrayBuffer&&u.blob&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||n(e))?this._bodyArrayBuffer=h(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u.blob&&(this.blob=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?i(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(l)}),this.text=function(){var e,t,n,r=i(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=a(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}c.prototype.append=function(e,t){e=r(e),t=o(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},c.prototype.delete=function(e){delete this.map[r(e)]},c.prototype.get=function(e){return e=r(e),this.has(e)?this.map[e]:null},c.prototype.has=function(e){return this.map.hasOwnProperty(r(e))},c.prototype.set=function(e,t){this.map[r(e)]=o(t)},c.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},c.prototype.keys=function(){var n=[];return this.forEach(function(e,t){n.push(t)}),e(n)},c.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),e(t)},c.prototype.entries=function(){var n=[];return this.forEach(function(e,t){n.push([t,e])}),e(n)},u.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var d=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function p(e,t){var n,r,o=(t=t||{}).body;if(e instanceof p){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new c(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new c(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),-1<d.indexOf(r)?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function y(e){var o=new FormData;return e.trim().split("&").forEach(function(e){if(e){var t=e.split("="),n=t.shift().replace(/\+/g," "),r=t.join("=").replace(/\+/g," ");o.append(decodeURIComponent(n),decodeURIComponent(r))}}),o}function v(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new c(t.headers),this.url=t.url||"",this._initBody(e)}p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},f.call(p.prototype),f.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:0,statusText:""});return e.type="error",e};var m=[301,302,303,307,308];v.redirect=function(e,t){if(-1===m.indexOf(t))throw new RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})},s.DOMException=self.DOMException;try{new s.DOMException}catch(e){s.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function b(o,a){return new Promise(function(r,e){var t=new p(o,a);if(t.signal&&t.signal.aborted)return e(new s.DOMException("Aborted","AbortError"));var i=new XMLHttpRequest;function n(){i.abort()}i.onload=function(){var e,o,t={status:i.status,statusText:i.statusText,headers:(e=i.getAllResponseHeaders()||"",o=new c,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var t=e.split(":"),n=t.shift().trim();if(n){var r=t.join(":").trim();o.append(n,r)}}),o)};t.url="responseURL"in i?i.responseURL:t.headers.get("X-Request-URL");var n="response"in i?i.response:i.responseText;r(new v(n,t))},i.onerror=function(){e(new TypeError("Network request failed"))},i.ontimeout=function(){e(new TypeError("Network request failed"))},i.onabort=function(){e(new s.DOMException("Aborted","AbortError"))},i.open(t.method,t.url,!0),"include"===t.credentials?i.withCredentials=!0:"omit"===t.credentials&&(i.withCredentials=!1),"responseType"in i&&u.blob&&(i.responseType="blob"),t.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),t.signal&&(t.signal.addEventListener("abort",n),i.onreadystatechange=function(){4===i.readyState&&t.signal.removeEventListener("abort",n)}),i.send(void 0===t._bodyInit?null:t._bodyInit)})}b.polyfill=!0,self.fetch||(self.fetch=b,self.Headers=c,self.Request=p,self.Response=v),s.Headers=c,s.Request=p,s.Response=v,s.fetch=b,Object.defineProperty(s,"__esModule",{value:!0})}(t)}(v={exports:{}},v.exports),v.exports);function g(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=[];for(n.reverse();n.length;){var i=n.pop();if(i&&i.pop)for(var a=i.length-1;0<=a;a--)n.push(i[a]);else null!=i&&!0!==i&&!1!==i&&o.push(i)}return"function"==typeof e?e(t||{},o):{attributes:t||{},children:o,key:t&&t.key,nodeName:e}}(m=b)&&m.__esModule&&Object.prototype.hasOwnProperty.call(m,"default")&&m.default;var w=function(e,t){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var _=function(){function e(e,t){this.orig=e,this.History=t,this.init({scheduleRender:function(){return null}})}return Object.defineProperty(e.prototype,"State",{get:function(){return this.state},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Remember",{get:function(){return this.remember},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Renderer",{get:function(){return this.renderer},enumerable:!0,configurable:!0}),e.prototype.set=function(r,e){var o,t=this;if(void 0===e&&(e=!1),0<(o=(o=Array.isArray(r)?Array.from(r.keys()):Object.getOwnPropertyNames(r)).filter(function(e){return!(e in t.orig)||t.orig[e]!==r[e]})).length){var i=this;if(e&&this.History){for(var a={},s=[],n=0,u=o;n<u.length;n++){(h=u[n])in this.orig?a[h]=this.orig[h]:s.push(h)}this.History.add({Redo:function(){for(var e=0,t=o;e<t.length;e++){var n=t[e];i.orig[n]=r[n]}i.renderer.scheduleRender()},Undo:function(){for(var e in a)i.orig[e]=a[e];for(var t=0,n=s;t<n.length;t++){e=n[t];delete i.orig[e]}i.renderer.scheduleRender()}})}else{for(var c=0,l=o;c<l.length;c++){var h=l[c];this.orig[h]=r[h]}this.renderer.scheduleRender()}}},e.prototype.init=function(e){this.renderer=e;var t,r,i,a,s,n=this;this.state=(t=this.orig,r=function(){return n.renderer.scheduleRender()},new Proxy(t,{set:function(e,t,n){return t in e&&e[t]===n||(e[t]=n,r()),!0},deleteProperty:function(e,t){return t in e&&(delete e[t],r()),!0}})),this.remember=(i=this.orig,a=function(){return n.renderer.scheduleRender()},(s=this.History)?new Proxy(i,{set:function(e,t,n){var r=t in i,o=null;return r&&(o=i[t])===n||s.add({Redo:function(){i[t]=n,a()},Undo:function(){r?i[t]=o:delete i[t],a()}}),!0},deleteProperty:function(e,t){if(!(t in e))return!0;var n=e[t];return s.add({Redo:function(){delete e[t],a()},Undo:function(){e[t]=n,a()}}),!0}}):null)},e}();!function(r){function e(e,t){var n=r.call(this,e,t.History)||this;return t.Renderer&&n.init({scheduleRender:function(){return t.Renderer.scheduleRender()}}),n}(function(e,t){function n(){this.constructor=e}w(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(e,r)}(_);function k(e){return!!e.nodeName}function E(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n}function T(e){return"function"==typeof e?T(e()):null!=e?e:""}function O(e){return e&&k(e)?e.key:null}function P(e){return e.currentTarget.events[e.type](e)}var x={draggable:1,list:1,spellcheck:1,translate:1,type:1};function A(e,t,n,r,o){var i,a,s,u;"key"!==t&&("style"===t?function(e,t,n){if("string"==typeof t)e.style.cssText=t;else for(var r in"string"==typeof n&&(n=e.style.cssText=""),E(n,t)){var o=null==t||null==t[r]?"":t[r];"-"===r[0]?e.style.setProperty(r,o):e.style[r]=o}}(e,n,r):("o"===t[0]&&"n"===t[1]?(i=e,s=n,u=r,a=(a=t).slice(2),i.events?u||(u=i.events[a]):i.events={},(i.events[a]=s)?u||i.addEventListener(a,P):i.removeEventListener(a,P)):!(t in e)||t in x||o?null!=n&&!1!==n&&e.setAttribute(t,n):e[t]=null==n?"":n,null!=n&&!1!==n||e.removeAttribute(t)))}function C(e,t,n){function r(){e.removeChild(function e(t,n){if(k(n)){for(var r=n.attributes,o=0;o<n.children.length;o++)e(t.childNodes[o],n.children[o]);r.ondestroy&&r.ondestroy(t)}return t}(t,n))}var o=k(n)&&n.attributes&&n.attributes.onremove;o?o(t,r):r()}var R=function(){function e(e,t,n){this.skipRender=!1,this.isRecycling=!0,this.lifecycle=[],this.container=e,this.view=t,this.rootElement=e&&e.children[0]||null,this.oldNode=this.rootElement&&function t(e){return{attributes:{},children:[].map.call(e.childNodes,function(e){return 3===e.nodeType?e.nodeValue:t(e)}),nodeName:e.nodeName.toLowerCase()}}(this.rootElement),this.action=n}return e.prototype.render=function(){var e=this;this.skipRender=!this.skipRender;var t=T(function(){return e.action&&e.action.init(e),e.view()});for(this.container&&!this.skipRender&&(this.rootElement=this.patch(this.container,this.rootElement,this.oldNode,this.oldNode=t)),this.isRecycling=!1;this.lifecycle.length;)this.lifecycle.pop()();return t},e.prototype.scheduleRender=function(){this.skipRender||(this.skipRender=!0,setTimeout(this.render.bind(this)))},e.prototype.createElement=function(e,t){var n=null;if(n="string"==typeof e||"number"==typeof e?document.createTextNode(""+e):(t=t||"svg"===e.nodeName)?document.createElementNS("http://www.w3.org/2000/svg",e.nodeName):document.createElement(e.nodeName),k(e)){var r=e.attributes;if(r){r.oncreate&&this.lifecycle.push(function(){return r.oncreate(n)});for(var o=0;o<e.children.length;o++)n.appendChild(this.createElement(e.children[o]=T(e.children[o]),t));for(var i in r)A(n,i,r[i],null,t)}}return n},e.prototype.updateElement=function(e,t,n,r){for(var o in E(t,n)){n[o]!==("value"===o||"checked"===o?e[o]:t[o])&&A(e,o,n[o],t[o],r)}var i=this.isRecycling?n.oncreate:n.onupdate;i&&this.lifecycle.push(function(){return i(e,t)})},e.prototype.patchNewNode=function(e,t,n,r,o){var i=this.createElement(r,o);return e.insertBefore(i,t),null!=n&&C(e,t,n),i},e.prototype.patchChildren=function(e,t,n,r){void 0===r&&(r=!1),r=r||"svg"===n.nodeName,this.updateElement(e,t.attributes,n.attributes,r);for(var o={},i={},a=[],s=t.children,u=n.children,c=0;c<s.length;c++){a[c]=e.childNodes[c],null!=(f=O(s[c]))&&(o[f]=[a[c],s[c]])}for(var l=0,h=0;h<u.length;){var f=O(s[l]),d=O(u[h]=T(u[h]));if(i[f])l++;else if(null==d||d!==O(s[l+1]))if(null==d||this.isRecycling)null==f&&(this.patch(e,a[l],s[l],u[h],r),h++),l++;else{var p=o[d]||[];if(f===d)this.patch(e,p[0],p[1],u[h],r),l++;else if(p[0]){var y=e.insertBefore(p[0],a[l]);this.patch(e,y,p[1],u[h],r)}else this.patch(e,a[l],null,u[h],r);i[d]=u[h],h++}else null==f&&C(e,a[l],s[l]),l++}for(;l<s.length;)null==O(s[l])&&C(e,a[l],s[l]),l++;for(var c in o)i[c]||C(e,o[c][0],o[c][1]);return e},e.prototype.patch=function(e,t,n,r,o){if(void 0===o&&(o=!1),r===n)return t;if(null==n||n.nodeName!==r.nodeName)t=this.patchNewNode(e,t,n,r,o);else if(k(n)&&null!=n.nodeName||k(r)){if(!k(r)||!k(n))throw new Error("Mom, what this 'patch' wants???");t=this.patchChildren(t,n,r,o)}else t.nodeValue=""+r;return t},e}();function S(e,t,n){var r=new R(e,t,n);return r.scheduleRender(),r}var j=function(){return(j=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},D=function(e){return e.pathname+e.search+e.hash},B=function(e){return e?"string"==typeof e?[e,null]:[""+(e.pathname?(t=e.pathname,t.replace(/(.*)\/$/,"$1")):"")+(e.search?"?"===e.search[0]?e.search:"?"+e.search:"")+(e.hash?"#"===e.hash[0]?e.hash:"#"+e.hash:""),e.state]:["#",null];var t},I=null,M=function(){function e(e,t){this.rOwner=e,this.loc=D(window.location),I||(I=t),this.subscribe()}return e.prototype.go=function(e){var t=B(e),n=t[0],r=t[1];null!==n&&n!==D(window.location)&&history.pushState(r,"",n)},e.prototype.stop=function(){},e.prototype.wrapHistory=function(e){this.unwrapHistory=e.reduce(function(e,t){var r=history[t];return history[t]=function(e,t,n){r.bind(history)(e,t,n),dispatchEvent(new CustomEvent("pushstate",{detail:e}))},function(){history[t]=r,e&&e()}},null)},e.prototype.unwrapHistory=function(){},e.prototype.subscribe=function(){var r=this,e=function(e){var t="state"in e?e.state:e.detail,n=D(window.location);r.loc!==n&&(r.rOwner.onLocationChange?r.rOwner.onLocationChange(t):r.rOwner.Renderer.scheduleRender(),r.loc=n)};this.wrapHistory(["pushState","replaceState"]),addEventListener("pushstate",e),addEventListener("popstate",e),this.stop=function(){removeEventListener("pushstate",e),removeEventListener("popstate",e),r.unwrapHistory()}},e}(),N=function(e){return e.protocol+"//"+e.hostname+(e.port?":"+e.port:"")},F=function(i,e){return I("a",j({},i,{href:B(i.to)[0],onclick:function(e){var t;window.location;if((i.onclick&&i.onclick(e),!(e.defaultPrevented||0!==e.button||e.altKey||e.metaKey||e.ctrlKey||e.shiftKey||(t=e.currentTarget)&&N(window.location)!==N(t)))&&i.to){e.preventDefault();var n=B(i.to),r=n[0],o=n[1];null!==r&&r!==D(window.location)&&history.pushState(o,"",r)}},to:void 0}),e)},H=function(e){return"#apiref-"+e},L=["Classes","Functions","Constants","Variables","Types","Interfaces"];var U=function(){function e(e){var t=this;this.mainCtrl=e,this.ready={},this.fresh=!0,this.Router=new M(this,g),this.TreeCtrl=new q,this.TOCCtrl=new W(function(){return t.TreeCtrl.Renderer.scheduleRender()})}return Object.defineProperty(e.prototype,"Fresh",{get:function(){return this.fresh},enumerable:!0,configurable:!0}),e.prototype.onLocationChange=function(e){return c(this,void 0,void 0,function(){var t,n,r,o,i,a,s,u;return l(this,function(e){switch(e.label){case 0:if(this.fresh=!1,t=window.location,n=/\#apiref\-([a-zA-Z_][a-zA-Z0-9_]*)(\-.*)?/,!(r=t.hash.match(n)))return[2];if((o=r[1])in this.ready)return this.setModule(o),[2];i=null,e.label=1;case 1:return e.trys.push([1,,3,4]),this.mainCtrl.loading(!0),[4,function(t){return c(this,void 0,void 0,function(){var n;return l(this,function(e){return n=t+"_ref.json",[2,new Promise(function(t){return fetch("built/data/"+n).then(function(e){return t(e.json())})})]})})}(o)];case 2:return i=e.sent(),[3,4];case 3:return this.mainCtrl.loading(!1),[7];case 4:return i&&(a=function(e){if(!e.children)return null;for(var t={Classes:[],Constants:[],Functions:[],Interfaces:[],Types:[],Variables:[]},n=0,r=e.children;n<r.length;n++){var o=r[n];switch(o.kind){case"VariableStatement":o.keyword&&"const"===o.keyword?t.Constants.push(o.name):t.Variables.push(o.name);break;case"InterfaceDeclaration":t.Interfaces.push(o.name);break;case"TypeAliasDeclaration":t.Types.push(o.name);break;case"ClassDeclaration":t.Classes.push(o.name);break;case"FunctionDeclaration":t.Functions.push(o.name);break;default:throw new Error("Mom, what is it "+o.kind+"?")}}for(var i in t)t[i]=t[i].sort();for(var a={},s=1,u=0,c=L;u<c.length;u++)for(var l=0,h=t[c[u]];l<h.length;l++)a[h[l]]=s,s++;return[t,a]}(i),s=a[0],u=a[1],this.ready[o]={tab:u,toc:s,tree:i},this.setModule(o)),[2]}})})},e.prototype.setModule=function(e){this.TOCCtrl.setTOC(e,this.ready[e].toc),this.TreeCtrl.setTree(e,this.ready[e].tree,this.ready[e].tab)},e}();function V(e){switch(e.kind){case"VariableStatement":return e.keyword&&"const"===e.keyword?"Constant":"Variable";case"InterfaceDeclaration":return"Interface";case"TypeAliasDeclaration":return"Type";case"ClassDeclaration":return"Class";case"Constructor":return"Constructor";case"FunctionDeclaration":return"Function";case"MethodSignature":case"MethodDeclaration":return"Method";case"PropertySignature":case"PropertyDeclaration":return"Property";default:throw new Error("Mom, what is it "+e.kind+"?")}}var q=function(n){function e(e){void 0===e&&(e={});var t=n.call(this,{modName:"",sections:[],tree:{}})||this;return t.links=e,t}return o(e,n),e.prototype.setTree=function(t,n,r){return c(this,void 0,void 0,function(){return l(this,function(e){return n.children=n.children.sort(function(e,t){return r[e.name]-r[t.name]}),this.set({modName:t,sections:function e(t,n,r,o,i){void 0===o&&(o=[]),void 0===i&&(i=null);for(var a=0,s=t.children;a<s.length;a++){var u=s[a],c=V(u),l="Constructor"===c?"":u.name;i&&"Constructor"!==c&&(l=i+"."+l);var h={comment:u.commentText,decl:u.decl,hash:i?void 0:"#apiref-"+n+"-"+l,kind:c,links:r,name:l};u.children&&u.children.length&&(h.subSections=[],e(u,n,r,h.subSections,l)),o.push(h)}return o}(n,t,this.links),tree:n}),[2]})})},e}(_);var W=function(n){function e(e){var t=n.call(this,{sections:[],toc:{}})||this;return t.refreshContent=e,t}return o(e,n),e.prototype.setTOC=function(t,n){return c(this,void 0,void 0,function(){return l(this,function(e){return this.set({toc:n,sections:function(r,e,o){for(var t=[],n=0,i=L;n<i.length;n++){var a=i[n],s=e[a];if(!(s.length<1)){var u={items:s.map(function(e){return{active:!1,hash:(t=r,n=e,H(t)+"-"+n),refreshContent:o,title:e};var t,n}),section:{title:a}};t.push(u)}}return t}(t,n,this.refreshContent)}),[2]})})},e}(_),G=function(e){function t(){return e.call(this,{loading:0})||this}return o(t,e),t.prototype.loading=function(e){this.State.loading+=e?1:-1},t}(_);var X=function(n){function e(e){var t=n.call(this,{apiModNames:e,apirefData:function(e){for(var t=[],n=0,r=e;n<r.length;n++){var o=r[n];t.push({title:o,hash:H(o)})}return t}(e)})||this;return t.Router=new M(t,g),t}return o(e,n),e}(_),K=function(t){try{return decodeURIComponent(t)}catch(e){return t}};var Y=function(r){return function(){var e=window.location,t=function(e,t,n){if(e===t||!e)return{isExact:e===t,hashPattern:e,hashMatch:t};var r=e.slice(1).split("-"),o=t.slice(1).split("-");if(n&&r.length!==o.length)return null;for(var i={hashMatch:"#",hashPattern:e,isExact:!1,params:{}},a=r.length,s=o.length,u=0;u<a&&u<s;u++){var c=[r[u],o[u]],l=c[0],h=c[1];if(":"===l[0])l=l.slice(1),i.params[l]=h=K(h);else if(l!==h)return null;i.hashMatch+=h+"-"}return i.hashMatch=i.hashMatch.slice(0,-1),i}(r.hash,e.hash,r.exact);if(!t)return null;var n=r.component({match:t},[]);if("function"!=typeof n)return n;n();return n()}},z="complete",$="canceled";function Z(e,t,n){e.self===e?e.scrollTo(t,n):(e.scrollLeft=t,e.scrollTop=n)}function J(e){var t=e._scrollSettings;if(t){var n=function(e,t,n){var r,o,i,a,s,u,c,l=e.getBoundingClientRect(),h=n&&null!=n.left?n.left:.5,f=n&&null!=n.top?n.top:.5,d=n&&null!=n.leftOffset?n.leftOffset:0,p=n&&null!=n.topOffset?n.topOffset:0,y=h,v=f;if(t.self===t)u=Math.min(l.width,t.innerWidth),c=Math.min(l.height,t.innerHeight),o=l.left+t.pageXOffset-t.innerWidth*y+u*y,i=l.top+t.pageYOffset-t.innerHeight*v+c*v,i-=p,a=(o-=d)-t.pageXOffset,s=i-t.pageYOffset;else{u=l.width,c=l.height,r=t.getBoundingClientRect();var m=l.left-(r.left-t.scrollLeft),b=l.top-(r.top-t.scrollTop);o=m+u*y-t.clientWidth*y,i=b+c*v-t.clientHeight*v,o=Math.max(Math.min(o,t.scrollWidth-t.clientWidth),0),i=Math.max(Math.min(i,t.scrollHeight-t.clientHeight),0),i-=p,a=(o-=d)-t.scrollLeft,s=i-t.scrollTop}return{x:o,y:i,differenceX:a,differenceY:s}}(t.target,e,t.align),r=Date.now()-t.startTime,o=Math.min(1/t.time*r,1);if(r>t.time&&3<t.endIterations)return Z(e,n.x,n.y),e._scrollSettings=null,t.end(z);t.endIterations++;var i=1-t.ease(o);if(Z(e,n.x-n.differenceX*i,n.y-n.differenceY*i),r>=t.time)return J(e);!function(e){if("requestAnimationFrame"in window)return window.requestAnimationFrame(e);setTimeout(e,16)}(J.bind(null,e))}}function Q(e,t,n,r){var o,i=!t._scrollSettings,a=t._scrollSettings,s=Date.now();function u(e){t._scrollSettings=null,t.parentElement&&t.parentElement._scrollSettings&&t.parentElement._scrollSettings.end(e),r(e),t.removeEventListener("touchstart",o,{passive:!0})}a&&a.end($),t._scrollSettings={startTime:a?a.startTime:Date.now(),endIterations:0,target:e,time:n.time+(a?s-a.startTime:0),ease:n.ease,align:n.align,end:u},o=u.bind(null,$),t.addEventListener("touchstart",o,{passive:!0}),i&&J(t)}function ee(e){return"pageXOffset"in e||(e.scrollHeight!==e.clientHeight||e.scrollWidth!==e.clientWidth)&&"hidden"!==getComputedStyle(e).overflow}function te(){return!0}var ne=function(e,t,n){if(e){"function"==typeof t&&(n=t,t=null),t||(t={}),t.time=isNaN(t.time)?1e3:t.time,t.ease=t.ease||function(e){return 1-Math.pow(1-e,e/2)};for(var r=e.parentElement,o=0,i=t.validTarget||te,a=t.isScrollable;r;){if(i(r,o)&&(a?a(r,ee):ee(r))&&(o++,Q(e,r,t,s)),!(r=r.parentElement))return;"BODY"===r.tagName&&(r=(r=r.ownerDocument).defaultView||r.ownerWindow)}}function s(e){--o||n&&n(e)}},re=function(e){return e.active?g("li",{class:"uk-active"},g(F,{to:"./"+e.hash,onclick:e.refreshContent},e.title)):g("li",null,g(F,{to:"./"+e.hash},e.title))},oe=function(e,t){var n;return[(n=e.section,g("li",{class:"uk-nav-header"},n.title))].concat(e.items.map(function(e){return g(re,i({},i({},e,{active:e.hash===t})))}))},ie=function(t){return g("div",{key:"Sidebar",class:"ho-sidebar-left uk-visible@m"},g("h4",{class:"ho-h4",key:"SidebarTitle"},t.title),g("ul",{class:"uk-nav uk-nav-default",key:"SidebarUl"},t.sections.map(function(e){return oe(e,t.activeHash)})))},ae=function(t){return function(e){e.innerHTML=marked(t.comment,{sanitize:!0})}},se=function(t){return function(e){e.innerHTML=Prism.highlight(t,Prism.languages.tsx,"tsx")}},ue=function(e){return g("pre",{style:"margin-left: 20px"},g("code",{oncreate:se(e.decl),onupdate:se(e.decl)}))},ce=function(e){return g("p",{oncreate:ae(e),onupdate:ae(e),style:"margin-left: 20px"})},le=function(e){return g("div",{onupdate:(t=e,function(e){t.hash===window.location.hash&&ne(e,{align:{top:0,topOffset:90}})}),class:"ho-content-section"},g("h4",{class:e.hash===window.location.hash?"ho-major-content-active-header":"ho-major-content-header"},e.kind+" ",g("a",{href:e.hash},g("span",{class:"ho-header-identifier"},e.name))),g(ue,{decl:e.decl}),g(ce,{comment:e.comment}),e.subSections&&e.subSections.length?[g("h5",{class:"ho-minor-content-header"},"Class"===e.kind?"Members":"Interface"===e.kind?"Properties":"")].concat(e.subSections.map(function(e){return g(he,i({},e))})):"");var t},he=function(e){return g("div",{class:"ho-content-section"},g(ue,{decl:e.decl}),g(ce,{comment:e.comment}))},fe=function(e){return g("div",{onupdate:function(e){window.location.hash.split("-").length<3&&ne(e,{align:{topOffset:200}})}},g("h3",{class:"ho-h4",style:"margin-bottom: 60px"},e.module," API ",e.version?g("span",{class:"uk-text-small",style:"position: relative; top: 5px; color: #999"},"version "+e.version,", ",g("a",{href:"https://www.typescriptlang.org/"},"TypeScript")):""),e.sections.map(function(e){return g(le,i({},e))}))},de=function(e,t){return g("li",{class:e.visible?"uk-visible@"+e.visible:""},g("a",{href:"#"},e.title),g("div",{class:"uk-navbar-dropdown"},g("ul",{class:"uk-nav uk-navbar-dropdown-nav"},t)))},pe=function(e,t){return g("li",{class:e.visible?"uk-visible@"+e.visible+" ":""+e.hidden?"uk-hidden@"+e.hidden:""},g("a",{href:"#",class:"uk-icon-link","uk-icon":e.title}),g("div",{class:"uk-navbar-dropdown"},g("ul",{class:"uk-nav uk-navbar-dropdown-nav"},t)))},ye=function(e){return g("li",{class:e.visible?"uk-visible@"+e.visible:""},g(F,{to:e.hash},e.title))},ve=function(t){return g("li",{class:t.visible?"uk-visible@"+t.visible:""},g("div",{class:"uk-navbar-item"},g("form",{class:"uk-search uk-search-navbar"},g("span",{"uk-search-icon":!0,class:"ho-scaled-search-icon"}),g("input",{class:"uk-search-input",type:"search",onkeyup:function(e){return 13===e.keyCode?t.onSearch():""},oninput:function(e){return t.onSearchInput(e.target.value)},value:t.searchValue}))))},me="https://github.com/hyperoop/hyperoop",be=function(e){return g("ul",{class:"uk-navbar-nav"},e.searchArgs?g(ve,{onSearchInput:e.searchArgs.onSearchInput,onSearch:e.searchArgs.onSearch,searchValue:e.searchArgs.searchValue,visible:"m"}):"",e.hasTutorial?g(ye,{title:"Tutorial",hash:"#tutorial",visible:"m"}):"",e.reference.length?g(de,{title:"API Reference",visible:"m"},e.reference.map(function(e){var t=e.title,n=e.hash;return g(ye,{title:t,hash:n})})):"",e.examples.length?g(de,{title:"Examples",visible:"m"},e.examples.map(function(e){var t=e.title,n=e.hash;return g(ye,{title:t,hash:n})})):"",e.hasDonationsPage?g(ye,{title:"Donate",hash:"#donate",visible:"m"}):"",g("li",{class:"uk-visible@m"},g("a",{href:me,target:"_blank",rel:"noopener noreferrer",class:"uk-icon-link","uk-icon":"github"})),g("li",{class:"uk-visible@m"},g("a",{href:"https://gitter.im/hyper-oop",target:"_blank",rel:"noopener noreferrer",class:"uk-icon-link","uk-icon":"gitter"})),g(pe,{title:"table",hidden:"m"},g("li",{class:"uk-nav-header"},"API"),e.reference.map(function(e){var t=e.title,n=e.hash;return g(ye,{title:t,hash:n})}),g("li",{class:"uk-nav-header"},"Community"),g("li",null,g("a",{href:me,target:"_blank",rel:"noopener noreferrer"},g("span",{"uk-icon":"icon: github; ratio: 0.8"}," ")," GitHub")),g("li",null,g("a",{href:"https://gitter.im/hyper-oop",target:"_blank",rel:"noopener noreferrer"},g("span",{"uk-icon":"icon: gitter; ratio: 0.8"}," ")," Gitter"))))};!function(){c(this,void 0,void 0,function(){var t,n,r,o,i,a;return l(this,function(e){switch(e.label){case 0:return t=new G,n=new U(t),r=new X(["HyperOOP","Router","RedoUndo"]),n.Router.go("./#apiref-HyperOOP"),n.Fresh?[4,n.onLocationChange(null)]:[3,2];case 1:e.sent(),e.label=2;case 2:return o=function(){return g(be,{hasTutorial:!1,hasDonationsPage:!1,examples:[],reference:r.State.apirefData,searchArgs:null})},i=function(){return g(Y,{exact:!1,hash:"#apiref-:module-:identifier",component:(t=n.TOCCtrl.State.sections,function(e){return g(ie,{title:"module"in e.match.params?e.match.params.module+" API":null,sections:"module"in e.match.params?t:null,activeHash:e.match.hashMatch})})});var t},a=function(){return g(fe,{version:n.TreeCtrl.State.tree.version,module:n.TreeCtrl.State.modName,sections:n.TreeCtrl.State.sections})},S(document.getElementById("navbarPlace"),o,r),S(document.getElementById("sidebarPlace"),i,n.TOCCtrl),S(document.getElementById("contentPlace"),a,n.TreeCtrl),[2]}})})}()});